(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yysn:function(Xe,le,et){"use strict";et.r(le);var mt=et("nKUr"),Ge=et("IzEo"),Re=et("bx4M"),Ve=et("cIOH"),Ze=et("bE4E"),Me=et("wx14"),Bt=et("rePB"),Ot=et("q1tI"),te=et("TSYQ"),lt=et.n(te),ut=et("H84U"),je=function(pt,M){var Ut={};for(var ht in pt)Object.prototype.hasOwnProperty.call(pt,ht)&&M.indexOf(ht)<0&&(Ut[ht]=pt[ht]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var It=0,ht=Object.getOwnPropertySymbols(pt);It<ht.length;It++)M.indexOf(ht[It])<0&&Object.prototype.propertyIsEnumerable.call(pt,ht[It])&&(Ut[ht[It]]=pt[ht[It]]);return Ut},Le=function(M){return Ot.createElement(ut.a,null,function(Ut){var ht,It=Ut.getPrefixCls,Ee=Ut.direction,ge=M.prefixCls,Jt=M.type,ne=Jt===void 0?"horizontal":Jt,ie=M.orientation,Mt=ie===void 0?"center":ie,Xt=M.className,wt=M.children,zt=M.dashed,Gt=M.plain,At=je(M,["prefixCls","type","orientation","className","children","dashed","plain"]),St=It("divider",ge),jt=Mt.length>0?"-".concat(Mt):Mt,Vt=!!wt,Lt=lt()(St,"".concat(St,"-").concat(ne),(ht={},Object(Bt.a)(ht,"".concat(St,"-with-text"),Vt),Object(Bt.a)(ht,"".concat(St,"-with-text").concat(jt),Vt),Object(Bt.a)(ht,"".concat(St,"-dashed"),!!zt),Object(Bt.a)(ht,"".concat(St,"-plain"),!!Gt),Object(Bt.a)(ht,"".concat(St,"-rtl"),Ee==="rtl"),ht),Xt);return Ot.createElement("div",Object(Me.a)({className:Lt},At,{role:"separator"}),wt&&Ot.createElement("span",{className:"".concat(St,"-inner-text")},wt))})},ee=Le,bt=et("+L6B"),Et=et("2/Rp"),qe=et("5NDa"),ce=et("5rEg"),kt=et("o0o1"),Ne=et.n(kt),_e=et("HaE+"),Qe=et("y8nQ"),re=et("Vl3Y"),me=et("ODXe"),Pe=et("9kvl"),pe=et("no5z"),Fe=et("wd/R"),he=et.n(Fe),Ye=function(){var M=Object(Ot.useState)({}),Ut=Object(me.a)(M,2),ht=Ut[0],It=Ut[1],Ee=re.a.useForm(),ge=Object(me.a)(Ee,1),Jt=ge[0],ne=Object(Pe.e)(),ie=function(){var Xt=Object(_e.a)(Ne.a.mark(function wt(zt){var Gt,At,St,jt,Vt,Lt,Ae,oe;return Ne.a.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:Gt=zt.objectId,At=pe.a.isValid(Gt),At&&(St=new pe.a(Gt),jt=St.id,Vt=jt.readUIntBE(9,1)<<16,Lt=jt.readUIntBE(10,1)<<8,Ae=jt.readUIntBE(11,1),oe={time:he()(St.getTimestamp()).format(),pid:jt.readUInt16BE(7),counter:Vt|Lt|Ae},It(oe));case 3:case"end":return Zt.stop()}},wt)}));return function(zt){return Xt.apply(this,arguments)}}(),Mt=function(wt){ie(wt).then()};return Object(mt.jsxs)(mt.Fragment,{children:[Object(mt.jsxs)(re.a,{name:"crypt",form:Jt,onFinish:Mt,children:[Object(mt.jsx)(re.a.Item,{name:"objectId",children:Object(mt.jsx)(ce.a,{placeholder:ne.formatMessage({id:"pages.tools.objectId.objectId"})})}),Object(mt.jsx)(re.a.Item,{children:Object(mt.jsx)(Et.a,{type:"primary",htmlType:"submit",children:ne.formatMessage({id:"menu.objectId"})})})]}),Object(mt.jsxs)(Re.a,{style:{display:ht.time?"block":"none"},children:[Object(mt.jsx)(ee,{plain:!0,children:"Time"}),ht.time,Object(mt.jsx)(ee,{plain:!0,children:"Machine"}),ht.machine,Object(mt.jsx)(ee,{plain:!0,children:"PID"}),ht.pid,Object(mt.jsx)(ee,{plain:!0,children:"Counter"}),ht.counter]})]})},$e=le.default=Ye},bE4E:function(Xe,le,et){},no5z:function(Xe,le,et){"use strict";(function(mt,Ge){et.d(le,"a",function(){return Or});var Re=et("md7G"),Ve=et("JX7q"),Ze=et("Ji7U"),Me=et("LK+K"),Bt=et("1OyB"),Ot=et("vuIU"),te=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof mt!="undefined"?mt:typeof self!="undefined"?self:{};function lt(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}function ut(N,r){return r={exports:{}},N(r,r.exports),r.exports}for(var je=Qe,Le=me,ee=Fe,bt=[],Et=[],qe=typeof Uint8Array!="undefined"?Uint8Array:Array,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kt=0,Ne=ce.length;kt<Ne;++kt)bt[kt]=ce[kt],Et[ce.charCodeAt(kt)]=kt;Et["-".charCodeAt(0)]=62,Et["_".charCodeAt(0)]=63;function _e(N){var r=N.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=N.indexOf("=");B===-1&&(B=r);var A=B===r?0:4-B%4;return[B,A]}function Qe(N){var r=_e(N),B=r[0],A=r[1];return(B+A)*3/4-A}function re(N,r,B){return(r+B)*3/4-B}function me(N){var r,B=_e(N),A=B[0],g=B[1],s=new qe(re(N,A,g)),a=0,_=g>0?A-4:A,f;for(f=0;f<_;f+=4)r=Et[N.charCodeAt(f)]<<18|Et[N.charCodeAt(f+1)]<<12|Et[N.charCodeAt(f+2)]<<6|Et[N.charCodeAt(f+3)],s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=r&255;return g===2&&(r=Et[N.charCodeAt(f)]<<2|Et[N.charCodeAt(f+1)]>>4,s[a++]=r&255),g===1&&(r=Et[N.charCodeAt(f)]<<10|Et[N.charCodeAt(f+1)]<<4|Et[N.charCodeAt(f+2)]>>2,s[a++]=r>>8&255,s[a++]=r&255),s}function Pe(N){return bt[N>>18&63]+bt[N>>12&63]+bt[N>>6&63]+bt[N&63]}function pe(N,r,B){for(var A,g=[],s=r;s<B;s+=3)A=(N[s]<<16&16711680)+(N[s+1]<<8&65280)+(N[s+2]&255),g.push(Pe(A));return g.join("")}function Fe(N){for(var r,B=N.length,A=B%3,g=[],s=16383,a=0,_=B-A;a<_;a+=s)g.push(pe(N,a,a+s>_?_:a+s));return A===1?(r=N[B-1],g.push(bt[r>>2]+bt[r<<4&63]+"==")):A===2&&(r=(N[B-2]<<8)+N[B-1],g.push(bt[r>>10]+bt[r>>4&63]+bt[r<<2&63]+"=")),g.join("")}var he={byteLength:je,toByteArray:Le,fromByteArray:ee},Ye=function(r,B,A,g,s){var a,_,f=s*8-g-1,u=(1<<f)-1,S=u>>1,h=-7,y=A?s-1:0,n=A?-1:1,E=r[B+y];for(y+=n,a=E&(1<<-h)-1,E>>=-h,h+=f;h>0;a=a*256+r[B+y],y+=n,h-=8);for(_=a&(1<<-h)-1,a>>=-h,h+=g;h>0;_=_*256+r[B+y],y+=n,h-=8);if(a===0)a=1-S;else{if(a===u)return _?NaN:(E?-1:1)*Infinity;_=_+Math.pow(2,g),a=a-S}return(E?-1:1)*_*Math.pow(2,a-g)},$e=function(r,B,A,g,s,a){var _,f,u,S=a*8-s-1,h=(1<<S)-1,y=h>>1,n=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=g?0:a-1,O=g?1:-1,d=B<0||B===0&&1/B<0?1:0;for(B=Math.abs(B),isNaN(B)||B===Infinity?(f=isNaN(B)?1:0,_=h):(_=Math.floor(Math.log(B)/Math.LN2),B*(u=Math.pow(2,-_))<1&&(_--,u*=2),_+y>=1?B+=n/u:B+=n*Math.pow(2,1-y),B*u>=2&&(_++,u/=2),_+y>=h?(f=0,_=h):_+y>=1?(f=(B*u-1)*Math.pow(2,s),_=_+y):(f=B*Math.pow(2,y-1)*Math.pow(2,s),_=0));s>=8;r[A+E]=f&255,E+=O,f/=256,s-=8);for(_=_<<s|f,S+=s;S>0;r[A+E]=_&255,E+=O,_/=256,S-=8);r[A+E-O]|=d*128},pt={read:Ye,write:$e},M=ut(function(N,r){var B=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=d,r.INSPECT_MAX_BYTES=50;var A=2147483647;r.kMaxLength=A,a.TYPED_ARRAY_SUPPORT=g(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{var l=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(l,t),l.foo()===42}catch(e){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(l){if(l>A)throw new RangeError('The value "'+l+'" is invalid for option "size"');var t=new Uint8Array(l);return Object.setPrototypeOf(t,a.prototype),t}function a(l,t,e){if(typeof l=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(l)}return _(l,t,e)}a.poolSize=8192;function _(l,t,e){if(typeof l=="string")return h(l,t);if(ArrayBuffer.isView(l))return y(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(l));if(_t(l,ArrayBuffer)||l&&_t(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(_t(l,SharedArrayBuffer)||l&&_t(l.buffer,SharedArrayBuffer)))return n(l,t,e);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var c=l.valueOf&&l.valueOf();if(c!=null&&c!==l)return a.from(c,t,e);var p=E(l);if(p)return p;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return a.from(l[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(l))}a.from=function(l,t,e){return _(l,t,e)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function u(l,t,e){return f(l),l<=0?s(l):t!==void 0?typeof e=="string"?s(l).fill(t,e):s(l).fill(t):s(l)}a.alloc=function(l,t,e){return u(l,t,e)};function S(l){return f(l),s(l<0?0:O(l)|0)}a.allocUnsafe=function(l){return S(l)},a.allocUnsafeSlow=function(l){return S(l)};function h(l,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=k(l,t)|0,c=s(e),p=c.write(l,t);return p!==e&&(c=c.slice(0,p)),c}function y(l){for(var t=l.length<0?0:O(l.length)|0,e=s(t),c=0;c<t;c+=1)e[c]=l[c]&255;return e}function n(l,t,e){if(t<0||l.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var c;return t===void 0&&e===void 0?c=new Uint8Array(l):e===void 0?c=new Uint8Array(l,t):c=new Uint8Array(l,t,e),Object.setPrototypeOf(c,a.prototype),c}function E(l){if(a.isBuffer(l)){var t=O(l.length)|0,e=s(t);return e.length===0||l.copy(e,0,0,t),e}if(l.length!==void 0)return typeof l.length!="number"||dt(l.length)?s(0):y(l);if(l.type==="Buffer"&&Array.isArray(l.data))return y(l.data)}function O(l){if(l>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return l|0}function d(l){return+l!=l&&(l=0),a.alloc(+l)}a.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==a.prototype},a.compare=function(t,e){if(_t(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),_t(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var c=t.length,p=e.length,D=0,R=Math.min(c,p);D<R;++D)if(t[D]!==e[D]){c=t[D],p=e[D];break}return c<p?-1:p<c?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return a.alloc(0);var c;if(e===void 0)for(e=0,c=0;c<t.length;++c)e+=t[c].length;var p=a.allocUnsafe(e),D=0;for(c=0;c<t.length;++c){var R=t[c];if(_t(R,Uint8Array)&&(R=a.from(R)),!a.isBuffer(R))throw new TypeError('"list" argument must be an Array of Buffers');R.copy(p,D),D+=R.length}return p};function k(l,t){if(a.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||_t(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(l));var e=l.length,c=arguments.length>2&&arguments[2]===!0;if(!c&&e===0)return 0;for(var p=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return ft(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return yt(l).length;default:if(p)return c?-1:ft(l).length;t=(""+t).toLowerCase(),p=!0}}a.byteLength=k;function W(l,t,e){var c=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(l||(l="utf8");;)switch(l){case"hex":return m(this,t,e);case"utf8":case"utf-8":return o(this,t,e);case"ascii":return K(this,t,e);case"latin1":case"binary":return q(this,t,e);case"base64":return T(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,e);default:if(c)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),c=!0}}a.prototype._isBuffer=!0;function G(l,t,e){var c=l[t];l[t]=l[e],l[e]=c}a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)G(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)G(this,e,e+3),G(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)G(this,e,e+7),G(this,e+1,e+6),G(this,e+2,e+5),G(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?o(this,0,t):W.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:a.compare(this,t)===0},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},B&&(a.prototype[B]=a.prototype.inspect),a.prototype.compare=function(t,e,c,p,D){if(_t(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(t));if(e===void 0&&(e=0),c===void 0&&(c=t?t.length:0),p===void 0&&(p=0),D===void 0&&(D=this.length),e<0||c>t.length||p<0||D>this.length)throw new RangeError("out of range index");if(p>=D&&e>=c)return 0;if(p>=D)return-1;if(e>=c)return 1;if(e>>>=0,c>>>=0,p>>>=0,D>>>=0,this===t)return 0;for(var R=D-p,tt=c-e,ot=Math.min(R,tt),rt=this.slice(p,D),st=t.slice(e,c),Q=0;Q<ot;++Q)if(rt[Q]!==st[Q]){R=rt[Q],tt=st[Q];break}return R<tt?-1:tt<R?1:0};function F(l,t,e,c,p){if(l.length===0)return-1;if(typeof e=="string"?(c=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,dt(e)&&(e=p?0:l.length-1),e<0&&(e=l.length+e),e>=l.length){if(p)return-1;e=l.length-1}else if(e<0)if(p)e=0;else return-1;if(typeof t=="string"&&(t=a.from(t,c)),a.isBuffer(t))return t.length===0?-1:Y(l,t,e,c,p);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(l,t,e):Uint8Array.prototype.lastIndexOf.call(l,t,e):Y(l,[t],e,c,p);throw new TypeError("val must be string, number or Buffer")}function Y(l,t,e,c,p){var D=1,R=l.length,tt=t.length;if(c!==void 0&&(c=String(c).toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(l.length<2||t.length<2)return-1;D=2,R/=2,tt/=2,e/=2}function ot(fe,Oe){return D===1?fe[Oe]:fe.readUInt16BE(Oe*D)}var rt;if(p){var st=-1;for(rt=e;rt<R;rt++)if(ot(l,rt)===ot(t,st===-1?0:rt-st)){if(st===-1&&(st=rt),rt-st+1===tt)return st*D}else st!==-1&&(rt-=rt-st),st=-1}else for(e+tt>R&&(e=R-tt),rt=e;rt>=0;rt--){for(var Q=!0,gt=0;gt<tt;gt++)if(ot(l,rt+gt)!==ot(t,gt)){Q=!1;break}if(Q)return rt}return-1}a.prototype.includes=function(t,e,c){return this.indexOf(t,e,c)!==-1},a.prototype.indexOf=function(t,e,c){return F(this,t,e,c,!0)},a.prototype.lastIndexOf=function(t,e,c){return F(this,t,e,c,!1)};function I(l,t,e,c){e=Number(e)||0;var p=l.length-e;c?(c=Number(c),c>p&&(c=p)):c=p;var D=t.length;c>D/2&&(c=D/2);for(var R=0;R<c;++R){var tt=parseInt(t.substr(R*2,2),16);if(dt(tt))return R;l[e+R]=tt}return R}function H(l,t,e,c){return Nt(ft(t,l.length-e),l,e,c)}function $(l,t,e,c){return Nt(j(t),l,e,c)}function b(l,t,e,c){return $(l,t,e,c)}function i(l,t,e,c){return Nt(yt(t),l,e,c)}function v(l,t,e,c){return Nt(L(t,l.length-e),l,e,c)}a.prototype.write=function(t,e,c,p){if(e===void 0)p="utf8",c=this.length,e=0;else if(c===void 0&&typeof e=="string")p=e,c=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(c)?(c=c>>>0,p===void 0&&(p="utf8")):(p=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var D=this.length-e;if((c===void 0||c>D)&&(c=D),t.length>0&&(c<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var R=!1;;)switch(p){case"hex":return I(this,t,e,c);case"utf8":case"utf-8":return H(this,t,e,c);case"ascii":return $(this,t,e,c);case"latin1":case"binary":return b(this,t,e,c);case"base64":return i(this,t,e,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,c);default:if(R)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),R=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(l,t,e){return t===0&&e===l.length?he.fromByteArray(l):he.fromByteArray(l.slice(t,e))}function o(l,t,e){e=Math.min(l.length,e);for(var c=[],p=t;p<e;){var D=l[p],R=null,tt=D>239?4:D>223?3:D>191?2:1;if(p+tt<=e){var ot,rt,st,Q;switch(tt){case 1:D<128&&(R=D);break;case 2:ot=l[p+1],(ot&192)==128&&(Q=(D&31)<<6|ot&63,Q>127&&(R=Q));break;case 3:ot=l[p+1],rt=l[p+2],(ot&192)==128&&(rt&192)==128&&(Q=(D&15)<<12|(ot&63)<<6|rt&63,Q>2047&&(Q<55296||Q>57343)&&(R=Q));break;case 4:ot=l[p+1],rt=l[p+2],st=l[p+3],(ot&192)==128&&(rt&192)==128&&(st&192)==128&&(Q=(D&15)<<18|(ot&63)<<12|(rt&63)<<6|st&63,Q>65535&&Q<1114112&&(R=Q))}}R===null?(R=65533,tt=1):R>65535&&(R-=65536,c.push(R>>>10&1023|55296),R=56320|R&1023),c.push(R),p+=tt}return z(c)}var J=4096;function z(l){var t=l.length;if(t<=J)return String.fromCharCode.apply(String,l);for(var e="",c=0;c<t;)e+=String.fromCharCode.apply(String,l.slice(c,c+=J));return e}function K(l,t,e){var c="";e=Math.min(l.length,e);for(var p=t;p<e;++p)c+=String.fromCharCode(l[p]&127);return c}function q(l,t,e){var c="";e=Math.min(l.length,e);for(var p=t;p<e;++p)c+=String.fromCharCode(l[p]);return c}function m(l,t,e){var c=l.length;(!t||t<0)&&(t=0),(!e||e<0||e>c)&&(e=c);for(var p="",D=t;D<e;++D)p+=Rt[l[D]];return p}function V(l,t,e){for(var c=l.slice(t,e),p="",D=0;D<c.length;D+=2)p+=String.fromCharCode(c[D]+c[D+1]*256);return p}a.prototype.slice=function(t,e){var c=this.length;t=~~t,e=e===void 0?c:~~e,t<0?(t+=c,t<0&&(t=0)):t>c&&(t=c),e<0?(e+=c,e<0&&(e=0)):e>c&&(e=c),e<t&&(e=t);var p=this.subarray(t,e);return Object.setPrototypeOf(p,a.prototype),p};function C(l,t,e){if(l%1!=0||l<0)throw new RangeError("offset is not uint");if(l+t>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(t,e,c){t=t>>>0,e=e>>>0,c||C(t,e,this.length);for(var p=this[t],D=1,R=0;++R<e&&(D*=256);)p+=this[t+R]*D;return p},a.prototype.readUIntBE=function(t,e,c){t=t>>>0,e=e>>>0,c||C(t,e,this.length);for(var p=this[t+--e],D=1;e>0&&(D*=256);)p+=this[t+--e]*D;return p},a.prototype.readUInt8=function(t,e){return t=t>>>0,e||C(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||C(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||C(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},a.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,c){t=t>>>0,e=e>>>0,c||C(t,e,this.length);for(var p=this[t],D=1,R=0;++R<e&&(D*=256);)p+=this[t+R]*D;return D*=128,p>=D&&(p-=Math.pow(2,8*e)),p},a.prototype.readIntBE=function(t,e,c){t=t>>>0,e=e>>>0,c||C(t,e,this.length);for(var p=e,D=1,R=this[t+--p];p>0&&(D*=256);)R+=this[t+--p]*D;return D*=128,R>=D&&(R-=Math.pow(2,8*e)),R},a.prototype.readInt8=function(t,e){return t=t>>>0,e||C(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){t=t>>>0,e||C(t,2,this.length);var c=this[t]|this[t+1]<<8;return c&32768?c|4294901760:c},a.prototype.readInt16BE=function(t,e){t=t>>>0,e||C(t,2,this.length);var c=this[t+1]|this[t]<<8;return c&32768?c|4294901760:c},a.prototype.readInt32LE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t=t>>>0,e||C(t,4,this.length),pt.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t=t>>>0,e||C(t,4,this.length),pt.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||C(t,8,this.length),pt.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||C(t,8,this.length),pt.read(this,t,!1,52,8)};function U(l,t,e,c,p,D){if(!a.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>p||t<D)throw new RangeError('"value" argument is out of bounds');if(e+c>l.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(t,e,c,p){if(t=+t,e=e>>>0,c=c>>>0,!p){var D=Math.pow(2,8*c)-1;U(this,t,e,c,D,0)}var R=1,tt=0;for(this[e]=t&255;++tt<c&&(R*=256);)this[e+tt]=t/R&255;return e+c},a.prototype.writeUIntBE=function(t,e,c,p){if(t=+t,e=e>>>0,c=c>>>0,!p){var D=Math.pow(2,8*c)-1;U(this,t,e,c,D,0)}var R=c-1,tt=1;for(this[e+R]=t&255;--R>=0&&(tt*=256);)this[e+R]=t/tt&255;return e+c},a.prototype.writeUInt8=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,1,255,0),this[e]=t&255,e+1},a.prototype.writeUInt16LE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},a.prototype.writeUInt32LE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},a.prototype.writeUInt32BE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},a.prototype.writeIntLE=function(t,e,c,p){if(t=+t,e=e>>>0,!p){var D=Math.pow(2,8*c-1);U(this,t,e,c,D-1,-D)}var R=0,tt=1,ot=0;for(this[e]=t&255;++R<c&&(tt*=256);)t<0&&ot===0&&this[e+R-1]!==0&&(ot=1),this[e+R]=(t/tt>>0)-ot&255;return e+c},a.prototype.writeIntBE=function(t,e,c,p){if(t=+t,e=e>>>0,!p){var D=Math.pow(2,8*c-1);U(this,t,e,c,D-1,-D)}var R=c-1,tt=1,ot=0;for(this[e+R]=t&255;--R>=0&&(tt*=256);)t<0&&ot===0&&this[e+R+1]!==0&&(ot=1),this[e+R]=(t/tt>>0)-ot&255;return e+c},a.prototype.writeInt8=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},a.prototype.writeInt16LE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},a.prototype.writeInt32LE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,c){return t=+t,e=e>>>0,c||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function nt(l,t,e,c,p,D){if(e+c>l.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function it(l,t,e,c,p){return t=+t,e=e>>>0,p||nt(l,t,e,4),pt.write(l,t,e,c,23,4),e+4}a.prototype.writeFloatLE=function(t,e,c){return it(this,t,e,!0,c)},a.prototype.writeFloatBE=function(t,e,c){return it(this,t,e,!1,c)};function ct(l,t,e,c,p){return t=+t,e=e>>>0,p||nt(l,t,e,8),pt.write(l,t,e,c,52,8),e+8}a.prototype.writeDoubleLE=function(t,e,c){return ct(this,t,e,!0,c)},a.prototype.writeDoubleBE=function(t,e,c){return ct(this,t,e,!1,c)},a.prototype.copy=function(t,e,c,p){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(c||(c=0),!p&&p!==0&&(p=this.length),e>=t.length&&(e=t.length),e||(e=0),p>0&&p<c&&(p=c),p===c||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),t.length-e<p-c&&(p=t.length-e+c);var D=p-c;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,c,p);else if(this===t&&c<e&&e<p)for(var R=D-1;R>=0;--R)t[R+e]=this[R+c];else Uint8Array.prototype.set.call(t,this.subarray(c,p),e);return D},a.prototype.fill=function(t,e,c,p){if(typeof t=="string"){if(typeof e=="string"?(p=e,e=0,c=this.length):typeof c=="string"&&(p=c,c=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(t.length===1){var D=t.charCodeAt(0);(p==="utf8"&&D<128||p==="latin1")&&(t=D)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<c)throw new RangeError("Out of range index");if(c<=e)return this;e=e>>>0,c=c===void 0?this.length:c>>>0,t||(t=0);var R;if(typeof t=="number")for(R=e;R<c;++R)this[R]=t;else{var tt=a.isBuffer(t)?t:a.from(t,p),ot=tt.length;if(ot===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(R=0;R<c-e;++R)this[R+e]=tt[R%ot]}return this};var x=/[^+/0-9A-Za-z-_]/g;function P(l){if(l=l.split("=")[0],l=l.trim().replace(x,""),l.length<2)return"";for(;l.length%4!=0;)l=l+"=";return l}function ft(l,t){t=t||Infinity;for(var e,c=l.length,p=null,D=[],R=0;R<c;++R){if(e=l.charCodeAt(R),e>55295&&e<57344){if(!p){if(e>56319){(t-=3)>-1&&D.push(239,191,189);continue}else if(R+1===c){(t-=3)>-1&&D.push(239,191,189);continue}p=e;continue}if(e<56320){(t-=3)>-1&&D.push(239,191,189),p=e;continue}e=(p-55296<<10|e-56320)+65536}else p&&(t-=3)>-1&&D.push(239,191,189);if(p=null,e<128){if((t-=1)<0)break;D.push(e)}else if(e<2048){if((t-=2)<0)break;D.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;D.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;D.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return D}function j(l){for(var t=[],e=0;e<l.length;++e)t.push(l.charCodeAt(e)&255);return t}function L(l,t){for(var e,c,p,D=[],R=0;R<l.length&&!((t-=2)<0);++R)e=l.charCodeAt(R),c=e>>8,p=e%256,D.push(p),D.push(c);return D}function yt(l){return he.toByteArray(P(l))}function Nt(l,t,e,c){for(var p=0;p<c&&!(p+e>=t.length||p>=l.length);++p)t[p+e]=l[p];return p}function _t(l,t){return l instanceof t||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===t.name}function dt(l){return l!==l}var Rt=function(){for(var l="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var c=e*16,p=0;p<16;++p)t[c+p]=l[e]+l[p];return t}()}),Ut=M.Buffer,ht=M.SlowBuffer,It=M.INSPECT_MAX_BYTES,Ee=M.kMaxLength,ge={},Jt;typeof Object.create=="function"?Jt=function(r,B){r.super_=B,r.prototype=Object.create(B.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:Jt=function(r,B){r.super_=B;var A=function(){};A.prototype=B.prototype,r.prototype=new A,r.prototype.constructor=r};var ne=Jt,ie=/%[sdj%]/g;function Mt(N){if(!ve(N)){for(var r=[],B=0;B<arguments.length;B++)r.push(At(arguments[B]));return r.join(" ")}for(var B=1,A=arguments,g=A.length,s=String(N).replace(ie,function(_){if(_==="%%")return"%";if(B>=g)return _;switch(_){case"%s":return String(A[B++]);case"%d":return Number(A[B++]);case"%j":try{return JSON.stringify(A[B++])}catch(f){return"[Circular]"}default:return _}}),a=A[B];B<g;a=A[++B])Se(a)||!ae(a)?s+=" "+a:s+=" "+At(a);return s}function Xt(N,r){if(Pt(mt.process))return function(){return Xt(N,r).apply(this,arguments)};var B=!1;function A(){return B||(console.error(r),B=!0),N.apply(this,arguments)}return A}var wt={},zt;function Gt(N){if(Pt(zt)&&(zt=""),N=N.toUpperCase(),!wt[N])if(new RegExp("\\b"+N+"\\b","i").test(zt)){var r=0;wt[N]=function(){var B=Mt.apply(null,arguments);console.error("%s %d: %s",N,r,B)}}else wt[N]=function(){};return wt[N]}function At(N,r){var B={seen:[],stylize:jt};return arguments.length>=3&&(B.depth=arguments[2]),arguments.length>=4&&(B.colors=arguments[3]),Ce(r)?B.showHidden=r:r&&rr(B,r),Pt(B.showHidden)&&(B.showHidden=!1),Pt(B.depth)&&(B.depth=2),Pt(B.colors)&&(B.colors=!1),Pt(B.customInspect)&&(B.customInspect=!0),B.colors&&(B.stylize=St),Lt(B,N,B.depth)}At.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},At.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function St(N,r){var B=At.styles[r];return B?"["+At.colors[B][0]+"m"+N+"["+At.colors[B][1]+"m":N}function jt(N,r){return N}function Vt(N){var r={};return N.forEach(function(B,A){r[B]=!0}),r}function Lt(N,r,B){if(N.customInspect&&r&&Te(r.inspect)&&r.inspect!==At&&!(r.constructor&&r.constructor.prototype===r)){var A=r.inspect(B,N);return ve(A)||(A=Lt(N,A,B)),A}var g=Ae(N,r);if(g)return g;var s=Object.keys(r),a=Vt(s);if(N.showHidden&&(s=Object.getOwnPropertyNames(r)),we(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return oe(r);if(s.length===0){if(Te(r)){var _=r.name?": "+r.name:"";return N.stylize("[Function"+_+"]","special")}if(de(r))return N.stylize(RegExp.prototype.toString.call(r),"regexp");if(ke(r))return N.stylize(Date.prototype.toString.call(r),"date");if(we(r))return oe(r)}var f="",u=!1,S=["{","}"];if(tr(r)&&(u=!0,S=["[","]"]),Te(r)){var h=r.name?": "+r.name:"";f=" [Function"+h+"]"}if(de(r)&&(f=" "+RegExp.prototype.toString.call(r)),ke(r)&&(f=" "+Date.prototype.toUTCString.call(r)),we(r)&&(f=" "+oe(r)),s.length===0&&(!u||r.length==0))return S[0]+f+S[1];if(B<0)return de(r)?N.stylize(RegExp.prototype.toString.call(r),"regexp"):N.stylize("[Object]","special");N.seen.push(r);var y;return u?y=xe(N,r,B,a,s):y=s.map(function(n){return Zt(N,r,B,a,n,u)}),N.seen.pop(),ar(y,f,S)}function Ae(N,r){if(Pt(r))return N.stylize("undefined","undefined");if(ve(r)){var B="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(B,"string")}if(er(r))return N.stylize(""+r,"number");if(Ce(r))return N.stylize(""+r,"boolean");if(Se(r))return N.stylize("null","null")}function oe(N){return"["+Error.prototype.toString.call(N)+"]"}function xe(N,r,B,A,g){for(var s=[],a=0,_=r.length;a<_;++a)nr(r,String(a))?s.push(Zt(N,r,B,A,String(a),!0)):s.push("");return g.forEach(function(f){f.match(/^\d+$/)||s.push(Zt(N,r,B,A,f,!0))}),s}function Zt(N,r,B,A,g,s){var a,_,f;if(f=Object.getOwnPropertyDescriptor(r,g)||{value:r[g]},f.get?f.set?_=N.stylize("[Getter/Setter]","special"):_=N.stylize("[Getter]","special"):f.set&&(_=N.stylize("[Setter]","special")),nr(A,g)||(a="["+g+"]"),_||(N.seen.indexOf(f.value)<0?(Se(B)?_=Lt(N,f.value,null):_=Lt(N,f.value,B-1),_.indexOf(`
`)>-1&&(s?_=_.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):_=`
`+_.split(`
`).map(function(u){return"   "+u}).join(`
`))):_=N.stylize("[Circular]","special")),Pt(a)){if(s&&g.match(/^\d+$/))return _;a=JSON.stringify(""+g),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=N.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=N.stylize(a,"string"))}return a+": "+_}function ar(N,r,B){var A=N.reduce(function(g,s){return s.indexOf(`
`)>=0,g+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return A>60?B[0]+(r===""?"":r+`
 `)+" "+N.join(`,
  `)+" "+B[1]:B[0]+r+" "+N.join(", ")+" "+B[1]}function tr(N){return Array.isArray(N)}function Ce(N){return typeof N=="boolean"}function Se(N){return N===null}function sr(N){return N==null}function er(N){return typeof N=="number"}function ve(N){return typeof N=="string"}function fr(N){return babelHelpers.typeof(N)==="symbol"}function Pt(N){return N===void 0}function de(N){return ae(N)&&Je(N)==="[object RegExp]"}function ae(N){return babelHelpers.typeof(N)==="object"&&N!==null}function ke(N){return ae(N)&&Je(N)==="[object Date]"}function we(N){return ae(N)&&(Je(N)==="[object Error]"||N instanceof Error)}function Te(N){return typeof N=="function"}function ur(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||babelHelpers.typeof(N)==="symbol"||typeof N=="undefined"}function lr(N){return Ge.isBuffer(N)}function Je(N){return Object.prototype.toString.call(N)}function ze(N){return N<10?"0"+N.toString(10):N.toString(10)}var cr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hr(){var N=new Date,r=[ze(N.getHours()),ze(N.getMinutes()),ze(N.getSeconds())].join(":");return[N.getDate(),cr[N.getMonth()],r].join(" ")}function gr(){console.log("%s - %s",hr(),Mt.apply(null,arguments))}function rr(N,r){if(!r||!ae(r))return N;for(var B=Object.keys(r),A=B.length;A--;)N[B[A]]=r[B[A]];return N}function nr(N,r){return Object.prototype.hasOwnProperty.call(N,r)}var yr={inherits:ne,_extend:rr,log:gr,isBuffer:lr,isPrimitive:ur,isFunction:Te,isError:we,isDate:ke,isObject:ae,isRegExp:de,isUndefined:Pt,isSymbol:fr,isString:ve,isNumber:er,isNullOrUndefined:sr,isNull:Se,isBoolean:Ce,isArray:tr,inspect:At,deprecate:Xt,format:Mt,debuglog:Gt},at=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deprecate=r.isObjectLike=r.isDate=r.isBuffer=r.haveBuffer=r.isBigUInt64Array=r.isBigInt64Array=r.isUint8Array=r.randomBytes=r.normalizedFunctionString=void 0;function B(y){return y.toString().replace("function(","function (")}r.normalizedFunctionString=B;function A(y){for(var n=M.Buffer.alloc(y),E=0;E<y;++E)n[E]=Math.floor(Math.random()*256);return n}if(r.randomBytes=A,typeof window!="undefined"&&window.crypto&&window.crypto.getRandomValues)r.randomBytes=function(y){return window.crypto.getRandomValues(M.Buffer.alloc(y))};else{try{r.randomBytes=ge.randomBytes}catch(y){}r.randomBytes==null&&(r.randomBytes=A)}function g(y){return Object.prototype.toString.call(y)==="[object Uint8Array]"}r.isUint8Array=g;function s(y){return Object.prototype.toString.call(y)==="[object BigInt64Array]"}r.isBigInt64Array=s;function a(y){return Object.prototype.toString.call(y)==="[object BigUint64Array]"}r.isBigUInt64Array=a;function _(){return typeof te!="undefined"&&typeof te.Buffer!="undefined"}r.haveBuffer=_;function f(y){var n;return typeof y=="object"&&((n=y==null?void 0:y.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}r.isBuffer=f;function u(y){return S(y)&&Object.prototype.toString.call(y)==="[object Date]"}r.isDate=u;function S(y){return typeof y=="object"&&y!==null}r.isObjectLike=S;function h(y,n){if(typeof window=="undefined"||typeof self=="undefined")return yr.deprecate(y,n);var E=!1;function O(){E||(console.warn(n),E=!0);for(var d=arguments.length,k=new Array(d),W=0;W<d;W++)k[W]=arguments[W];return y.apply.apply(y,[this].concat(k))}return O}r.deprecate=h});lt(at);var pr=at.deprecate,Er=at.isObjectLike,Ar=at.isDate,Sr=at.isBuffer,vr=at.haveBuffer,dr=at.isBigUInt64Array,wr=at.isBigInt64Array,Tr=at.isUint8Array,br=at.randomBytes,Ir=at.normalizedFunctionString,Kt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ensureBuffer=void 0;function B(A){if(at.isBuffer(A))return A;if(ArrayBuffer.isView(A))return M.Buffer.from(A.buffer);if(A instanceof ArrayBuffer)return M.Buffer.from(A);throw new TypeError("Must use either Buffer or TypedArray")}r.ensureBuffer=B});lt(Kt);var Dr=Kt.ensureBuffer,Ke=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseUUID=void 0;var B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function A(g){if(typeof g!="string")throw new TypeError("Invalid type for UUID, expected string but got "+typeof g);if(!B.test(g))throw new TypeError("Invalid format for UUID: "+g);var s,a=new Uint8Array(16);return a[0]=(s=parseInt(g.slice(0,8),16))>>>24,a[1]=s>>>16&255,a[2]=s>>>8&255,a[3]=s&255,a[4]=(s=parseInt(g.slice(9,13),16))>>>8,a[5]=s&255,a[6]=(s=parseInt(g.slice(14,18),16))>>>8,a[7]=s&255,a[8]=(s=parseInt(g.slice(19,23),16))>>>8,a[9]=s&255,a[10]=(s=parseInt(g.slice(24,36),16))/1099511627776&255,a[11]=s/4294967296&255,a[12]=s>>>24&255,a[13]=s>>>16&255,a[14]=s>>>8&255,a[15]=s&255,a}r.parseUUID=A});lt(Ke);var Ur=Ke.parseUUID,vt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Binary=void 0;var B=function(){function A(g,s){if(Object(Bt.a)(this,A),g!=null&&typeof g!="string"&&!ArrayBuffer.isView(g)&&!(g instanceof ArrayBuffer)&&!Array.isArray(g))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=s!=null?s:A.BSON_BINARY_SUBTYPE_DEFAULT,g==null?(this.buffer=M.Buffer.alloc(A.BUFFER_SIZE),this.position=0):(typeof g=="string"?this.buffer=M.Buffer.from(g,"binary"):Array.isArray(g)?this.buffer=M.Buffer.from(g):this.buffer=Kt.ensureBuffer(g),this.position=this.buffer.byteLength)}return Object(Ot.a)(A,[{key:"put",value:function(s){if(typeof s=="string"&&s.length!==1)throw new TypeError("only accepts single character String");if(typeof s!="number"&&s.length!==1)throw new TypeError("only accepts single character Uint8Array or Array");var a;if(typeof s=="string"?a=s.charCodeAt(0):typeof s=="number"?a=s:a=s[0],a<0||a>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=a;else{var _=M.Buffer.alloc(A.BUFFER_SIZE+this.buffer.length);this.buffer.copy(_,0,0,this.buffer.length),this.buffer=_,this.buffer[this.position++]=a}}},{key:"write",value:function(s,a){if(a=typeof a=="number"?a:this.position,this.buffer.length<a+s.length){var _=M.Buffer.alloc(this.buffer.length+s.length);this.buffer.copy(_,0,0,this.buffer.length),this.buffer=_}ArrayBuffer.isView(s)?(this.buffer.set(Kt.ensureBuffer(s),a),this.position=a+s.byteLength>this.position?a+s.length:this.position):typeof s=="string"&&(this.buffer.write(s,a,s.length,"binary"),this.position=a+s.length>this.position?a+s.length:this.position)}},{key:"read",value:function(s,a){return a=a&&a>0?a:this.position,this.buffer.slice(s,s+a)}},{key:"value",value:function(s){return s=!!s,s&&this.buffer.length===this.position?this.buffer:s?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return this.buffer.toString("base64")}},{key:"toString",value:function(s){return this.buffer.toString(s)}},{key:"toExtendedJSON",value:function(s){s=s||{};var a=this.buffer.toString("base64"),_=Number(this.sub_type).toString(16);return s.legacy?{$binary:a,$type:_.length===1?"0"+_:_}:{$binary:{base64:a,subType:_.length===1?"0"+_:_}}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){var s=this.value(!0);return'Binary("'.concat(s.toString("hex"),'", ').concat(this.sub_type,")")}}],[{key:"fromExtendedJSON",value:function(s,a){a=a||{};var _,f;if("$binary"in s?a.legacy&&typeof s.$binary=="string"&&"$type"in s?(f=s.$type?parseInt(s.$type,16):0,_=M.Buffer.from(s.$binary,"base64")):typeof s.$binary!="string"&&(f=s.$binary.subType?parseInt(s.$binary.subType,16):0,_=M.Buffer.from(s.$binary.base64,"base64")):"$uuid"in s&&(f=4,_=M.Buffer.from(Ke.parseUUID(s.$uuid))),!_)throw new TypeError("Unexpected Binary Extended JSON format ".concat(JSON.stringify(s)));return new A(_,f)}}]),A}();r.Binary=B,B.BSON_BINARY_SUBTYPE_DEFAULT=0,B.BUFFER_SIZE=256,B.SUBTYPE_DEFAULT=0,B.SUBTYPE_FUNCTION=1,B.SUBTYPE_BYTE_ARRAY=2,B.SUBTYPE_UUID_OLD=3,B.SUBTYPE_UUID=4,B.SUBTYPE_MD5=5,B.SUBTYPE_USER_DEFINED=128,Object.defineProperty(B.prototype,"_bsontype",{value:"Binary"})});lt(vt);var Rr=vt.Binary,Ft=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Code=void 0;var B=function(){function A(g,s){Object(Bt.a)(this,A),this.code=g,this.scope=s}return Object(Ot.a)(A,[{key:"toJSON",value:function(){return{code:this.code,scope:this.scope}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){var s=this.toJSON();return'Code("'.concat(s.code,'"').concat(s.scope?", ".concat(JSON.stringify(s.scope)):"",")")}}],[{key:"fromExtendedJSON",value:function(s){return new A(s.$code,s.$scope)}}]),A}();r.Code=B,Object.defineProperty(B.prototype,"_bsontype",{value:"Code"})});lt(Ft);var Mr=Ft.Code,Tt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DBRef=r.isDBRefLike=void 0;function B(g){return at.isObjectLike(g)&&g.$id!=null&&g.$ref!=null}r.isDBRefLike=B;var A=function(){function g(s,a,_,f){Object(Bt.a)(this,g);var u=s.split(".");u.length===2&&(_=u.shift(),s=u.shift()),this.collection=s,this.oid=a,this.db=_,this.fields=f||{}}return Object(Ot.a)(g,[{key:"toJSON",value:function(){var a=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(a.$db=this.db),a}},{key:"toExtendedJSON",value:function(a){a=a||{};var _={$ref:this.collection,$id:this.oid};return a.legacy||(this.db&&(_.$db=this.db),_=Object.assign(_,this.fields)),_}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){var a=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'DBRef("'.concat(this.namespace,'", "').concat(a,'"').concat(this.db?', "'.concat(this.db,'"'):"",")")}},{key:"namespace",get:function(){return this.collection},set:function(a){this.collection=a}}],[{key:"fromExtendedJSON",value:function(a){var _=Object.assign({},a);return delete _.$ref,delete _.$id,delete _.$db,new g(a.$ref,a.$id,a.$db,_)}}]),g}();r.DBRef=A,Object.defineProperty(A.prototype,"_bsontype",{value:"DBRef"})});lt(Tt);var jr=Tt.DBRef,Lr=Tt.isDBRefLike,X=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Long=void 0;var B=void 0;try{B=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(h){}var A=1<<16,g=1<<24,s=A*A,a=s*s,_=a/2,f={},u={},S=function(){function h(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=arguments.length>2?arguments[2]:void 0;Object(Bt.a)(this,h),this.low=y|0,this.high=n|0,this.unsigned=!!E,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return Object(Ot.a)(h,[{key:"add",value:function(n){h.isLong(n)||(n=h.fromValue(n));var E=this.high>>>16,O=this.high&65535,d=this.low>>>16,k=this.low&65535,W=n.high>>>16,G=n.high&65535,F=n.low>>>16,Y=n.low&65535,I=0,H=0,$=0,b=0;return b+=k+Y,$+=b>>>16,b&=65535,$+=d+F,H+=$>>>16,$&=65535,H+=O+G,I+=H>>>16,H&=65535,I+=E+W,I&=65535,h.fromBits($<<16|b,I<<16|H,this.unsigned)}},{key:"and",value:function(n){return h.isLong(n)||(n=h.fromValue(n)),h.fromBits(this.low&n.low,this.high&n.high,this.unsigned)}},{key:"compare",value:function(n){if(h.isLong(n)||(n=h.fromValue(n)),this.eq(n))return 0;var E=this.isNegative(),O=n.isNegative();return E&&!O?-1:!E&&O?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1}},{key:"comp",value:function(n){return this.compare(n)}},{key:"divide",value:function(n){if(h.isLong(n)||(n=h.fromValue(n)),n.isZero())throw Error("division by zero");if(B){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var E=(this.unsigned?B.div_u:B.div_s)(this.low,this.high,n.low,n.high);return h.fromBits(E,B.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?h.UZERO:h.ZERO;var O,d,k;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return h.UZERO;if(n.gt(this.shru(1)))return h.UONE;k=h.UZERO}else{if(this.eq(h.MIN_VALUE)){if(n.eq(h.ONE)||n.eq(h.NEG_ONE))return h.MIN_VALUE;if(n.eq(h.MIN_VALUE))return h.ONE;var W=this.shr(1);return O=W.div(n).shl(1),O.eq(h.ZERO)?n.isNegative()?h.ONE:h.NEG_ONE:(d=this.sub(n.mul(O)),k=O.add(d.div(n)),k)}else if(n.eq(h.MIN_VALUE))return this.unsigned?h.UZERO:h.ZERO;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();k=h.ZERO}for(d=this;d.gte(n);){O=Math.max(1,Math.floor(d.toNumber()/n.toNumber()));for(var G=Math.ceil(Math.log(O)/Math.LN2),F=G<=48?1:Math.pow(2,G-48),Y=h.fromNumber(O),I=Y.mul(n);I.isNegative()||I.gt(d);)O-=F,Y=h.fromNumber(O,this.unsigned),I=Y.mul(n);Y.isZero()&&(Y=h.ONE),k=k.add(Y),d=d.sub(I)}return k}},{key:"div",value:function(n){return this.divide(n)}},{key:"equals",value:function(n){return h.isLong(n)||(n=h.fromValue(n)),this.unsigned!==n.unsigned&&this.high>>>31==1&&n.high>>>31==1?!1:this.high===n.high&&this.low===n.low}},{key:"eq",value:function(n){return this.equals(n)}},{key:"getHighBits",value:function(){return this.high}},{key:"getHighBitsUnsigned",value:function(){return this.high>>>0}},{key:"getLowBits",value:function(){return this.low}},{key:"getLowBitsUnsigned",value:function(){return this.low>>>0}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.eq(h.MIN_VALUE)?64:this.neg().getNumBitsAbs();var n=this.high!==0?this.high:this.low,E;for(E=31;E>0&&(n&1<<E)==0;E--);return this.high!==0?E+33:E+1}},{key:"greaterThan",value:function(n){return this.comp(n)>0}},{key:"gt",value:function(n){return this.greaterThan(n)}},{key:"greaterThanOrEqual",value:function(n){return this.comp(n)>=0}},{key:"gte",value:function(n){return this.greaterThanOrEqual(n)}},{key:"ge",value:function(n){return this.greaterThanOrEqual(n)}},{key:"isEven",value:function(){return(this.low&1)==0}},{key:"isNegative",value:function(){return!this.unsigned&&this.high<0}},{key:"isOdd",value:function(){return(this.low&1)==1}},{key:"isPositive",value:function(){return this.unsigned||this.high>=0}},{key:"isZero",value:function(){return this.high===0&&this.low===0}},{key:"lessThan",value:function(n){return this.comp(n)<0}},{key:"lt",value:function(n){return this.lessThan(n)}},{key:"lessThanOrEqual",value:function(n){return this.comp(n)<=0}},{key:"lte",value:function(n){return this.lessThanOrEqual(n)}},{key:"modulo",value:function(n){if(h.isLong(n)||(n=h.fromValue(n)),B){var E=(this.unsigned?B.rem_u:B.rem_s)(this.low,this.high,n.low,n.high);return h.fromBits(E,B.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))}},{key:"mod",value:function(n){return this.modulo(n)}},{key:"rem",value:function(n){return this.modulo(n)}},{key:"multiply",value:function(n){if(this.isZero())return h.ZERO;if(h.isLong(n)||(n=h.fromValue(n)),B){var E=B.mul(this.low,this.high,n.low,n.high);return h.fromBits(E,B.get_high(),this.unsigned)}if(n.isZero())return h.ZERO;if(this.eq(h.MIN_VALUE))return n.isOdd()?h.MIN_VALUE:h.ZERO;if(n.eq(h.MIN_VALUE))return this.isOdd()?h.MIN_VALUE:h.ZERO;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(h.TWO_PWR_24)&&n.lt(h.TWO_PWR_24))return h.fromNumber(this.toNumber()*n.toNumber(),this.unsigned);var O=this.high>>>16,d=this.high&65535,k=this.low>>>16,W=this.low&65535,G=n.high>>>16,F=n.high&65535,Y=n.low>>>16,I=n.low&65535,H=0,$=0,b=0,i=0;return i+=W*I,b+=i>>>16,i&=65535,b+=k*I,$+=b>>>16,b&=65535,b+=W*Y,$+=b>>>16,b&=65535,$+=d*I,H+=$>>>16,$&=65535,$+=k*Y,H+=$>>>16,$&=65535,$+=W*F,H+=$>>>16,$&=65535,H+=O*I+d*Y+k*F+W*G,H&=65535,h.fromBits(b<<16|i,H<<16|$,this.unsigned)}},{key:"mul",value:function(n){return this.multiply(n)}},{key:"negate",value:function(){return!this.unsigned&&this.eq(h.MIN_VALUE)?h.MIN_VALUE:this.not().add(h.ONE)}},{key:"neg",value:function(){return this.negate()}},{key:"not",value:function(){return h.fromBits(~this.low,~this.high,this.unsigned)}},{key:"notEquals",value:function(n){return!this.equals(n)}},{key:"neq",value:function(n){return this.notEquals(n)}},{key:"ne",value:function(n){return this.notEquals(n)}},{key:"or",value:function(n){return h.isLong(n)||(n=h.fromValue(n)),h.fromBits(this.low|n.low,this.high|n.high,this.unsigned)}},{key:"shiftLeft",value:function(n){return h.isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?h.fromBits(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):h.fromBits(0,this.low<<n-32,this.unsigned)}},{key:"shl",value:function(n){return this.shiftLeft(n)}},{key:"shiftRight",value:function(n){return h.isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?h.fromBits(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):h.fromBits(this.high>>n-32,this.high>=0?0:-1,this.unsigned)}},{key:"shr",value:function(n){return this.shiftRight(n)}},{key:"shiftRightUnsigned",value:function(n){if(h.isLong(n)&&(n=n.toInt()),n&=63,n===0)return this;var E=this.high;if(n<32){var O=this.low;return h.fromBits(O>>>n|E<<32-n,E>>>n,this.unsigned)}else return n===32?h.fromBits(E,0,this.unsigned):h.fromBits(E>>>n-32,0,this.unsigned)}},{key:"shr_u",value:function(n){return this.shiftRightUnsigned(n)}},{key:"shru",value:function(n){return this.shiftRightUnsigned(n)}},{key:"subtract",value:function(n){return h.isLong(n)||(n=h.fromValue(n)),this.add(n.neg())}},{key:"sub",value:function(n){return this.subtract(n)}},{key:"toInt",value:function(){return this.unsigned?this.low>>>0:this.low}},{key:"toNumber",value:function(){return this.unsigned?(this.high>>>0)*s+(this.low>>>0):this.high*s+(this.low>>>0)}},{key:"toBigInt",value:function(){return BigInt(this.toString())}},{key:"toBytes",value:function(n){return n?this.toBytesLE():this.toBytesBE()}},{key:"toBytesLE",value:function(){var n=this.high,E=this.low;return[E&255,E>>>8&255,E>>>16&255,E>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]}},{key:"toBytesBE",value:function(){var n=this.high,E=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,E>>>24,E>>>16&255,E>>>8&255,E&255]}},{key:"toSigned",value:function(){return this.unsigned?h.fromBits(this.low,this.high,!1):this}},{key:"toString",value:function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(h.MIN_VALUE)){var E=h.fromNumber(n),O=this.div(E),d=O.mul(E).sub(this);return O.toString(n)+d.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var k=h.fromNumber(Math.pow(n,6),this.unsigned),W=this,G="";;){var F=W.div(k),Y=W.sub(F.mul(k)).toInt()>>>0,I=Y.toString(n);if(W=F,W.isZero())return I+G;for(;I.length<6;)I="0"+I;G=""+I+G}}},{key:"toUnsigned",value:function(){return this.unsigned?this:h.fromBits(this.low,this.high,!0)}},{key:"xor",value:function(n){return h.isLong(n)||(n=h.fromValue(n)),h.fromBits(this.low^n.low,this.high^n.high,this.unsigned)}},{key:"eqz",value:function(){return this.isZero()}},{key:"le",value:function(n){return this.lessThanOrEqual(n)}},{key:"toExtendedJSON",value:function(n){return n&&n.relaxed?this.toNumber():{$numberLong:this.toString()}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return'Long("'.concat(this.toString(),'")')}}],[{key:"fromBits",value:function(n,E,O){return new h(n,E,O)}},{key:"fromInt",value:function(n,E){var O,d,k;return E?(n>>>=0,(k=0<=n&&n<256)&&(d=u[n],d)?d:(O=h.fromBits(n,(n|0)<0?-1:0,!0),k&&(u[n]=O),O)):(n|=0,(k=-128<=n&&n<128)&&(d=f[n],d)?d:(O=h.fromBits(n,n<0?-1:0,!1),k&&(f[n]=O),O))}},{key:"fromNumber",value:function(n,E){if(isNaN(n))return E?h.UZERO:h.ZERO;if(E){if(n<0)return h.UZERO;if(n>=a)return h.MAX_UNSIGNED_VALUE}else{if(n<=-_)return h.MIN_VALUE;if(n+1>=_)return h.MAX_VALUE}return n<0?h.fromNumber(-n,E).neg():h.fromBits(n%s|0,n/s|0,E)}},{key:"fromBigInt",value:function(n,E){return h.fromString(n.toString(),E)}},{key:"fromString",value:function(n,E,O){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return h.ZERO;if(typeof E=="number"?(O=E,E=!1):E=!!E,O=O||10,O<2||36<O)throw RangeError("radix");var d;if((d=n.indexOf("-"))>0)throw Error("interior hyphen");if(d===0)return h.fromString(n.substring(1),E,O).neg();for(var k=h.fromNumber(Math.pow(O,8)),W=h.ZERO,G=0;G<n.length;G+=8){var F=Math.min(8,n.length-G),Y=parseInt(n.substring(G,G+F),O);if(F<8){var I=h.fromNumber(Math.pow(O,F));W=W.mul(I).add(h.fromNumber(Y))}else W=W.mul(k),W=W.add(h.fromNumber(Y))}return W.unsigned=E,W}},{key:"fromBytes",value:function(n,E,O){return O?h.fromBytesLE(n,E):h.fromBytesBE(n,E)}},{key:"fromBytesLE",value:function(n,E){return new h(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,E)}},{key:"fromBytesBE",value:function(n,E){return new h(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],E)}},{key:"isLong",value:function(n){return at.isObjectLike(n)&&n.__isLong__===!0}},{key:"fromValue",value:function(n,E){return typeof n=="number"?h.fromNumber(n,E):typeof n=="string"?h.fromString(n,E):h.fromBits(n.low,n.high,typeof E=="boolean"?E:n.unsigned)}},{key:"fromExtendedJSON",value:function(n,E){var O=h.fromString(n.$numberLong);return E&&E.relaxed?O.toNumber():O}}]),h}();r.Long=S,S.TWO_PWR_24=S.fromInt(g),S.MAX_UNSIGNED_VALUE=S.fromBits(4294967295|0,4294967295|0,!0),S.ZERO=S.fromInt(0),S.UZERO=S.fromInt(0,!0),S.ONE=S.fromInt(1),S.UONE=S.fromInt(1,!0),S.NEG_ONE=S.fromInt(-1),S.MAX_VALUE=S.fromBits(4294967295|0,2147483647|0,!1),S.MIN_VALUE=S.fromBits(0,2147483648|0,!1),Object.defineProperty(S.prototype,"__isLong__",{value:!0}),Object.defineProperty(S.prototype,"_bsontype",{value:"Long"})});lt(X);var Pr=X.Long,qt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Decimal128=void 0;var B=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,A=/^(\+|-)?(Infinity|inf)$/i,g=/^(\+|-)?NaN$/i,s=6111,a=-6176,_=6176,f=34,u=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),h=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),y=/^([-+])?(\d+)?$/,n=31,E=16383,O=30,d=31;function k(H){return!isNaN(parseInt(H,10))}function W(H){var $=X.Long.fromNumber(1e3*1e3*1e3),b=X.Long.fromNumber(0);if(!H.parts[0]&&!H.parts[1]&&!H.parts[2]&&!H.parts[3])return{quotient:H,rem:b};for(var i=0;i<=3;i++)b=b.shiftLeft(32),b=b.add(new X.Long(H.parts[i],0)),H.parts[i]=b.div($).low,b=b.modulo($);return{quotient:H,rem:b}}function G(H,$){if(!H&&!$)return{high:X.Long.fromNumber(0),low:X.Long.fromNumber(0)};var b=H.shiftRightUnsigned(32),i=new X.Long(H.getLowBits(),0),v=$.shiftRightUnsigned(32),T=new X.Long($.getLowBits(),0),o=b.multiply(v),J=b.multiply(T),z=i.multiply(v),K=i.multiply(T);return o=o.add(J.shiftRightUnsigned(32)),J=new X.Long(J.getLowBits(),0).add(z).add(K.shiftRightUnsigned(32)),o=o.add(J.shiftRightUnsigned(32)),K=J.shiftLeft(32).add(new X.Long(K.getLowBits(),0)),{high:o,low:K}}function F(H,$){var b=H.high>>>0,i=$.high>>>0;if(b<i)return!0;if(b===i){var v=H.low>>>0,T=$.low>>>0;if(v<T)return!0}return!1}function Y(H,$){throw new TypeError('"'.concat(H,'" is not a valid Decimal128 string - ').concat($))}var I=function(){function H($){Object(Bt.a)(this,H),this.bytes=$}return Object(Ot.a)(H,[{key:"toString",value:function(){for(var b,i=0,v=new Array(36),T=0;T<v.length;T++)v[T]=0;var o=0,J=!1,z,K={parts:[0,0,0,0]},q,m,V=[];o=0;var C=this.bytes,U=C[o++]|C[o++]<<8|C[o++]<<16|C[o++]<<24,nt=C[o++]|C[o++]<<8|C[o++]<<16|C[o++]<<24,it=C[o++]|C[o++]<<8|C[o++]<<16|C[o++]<<24,ct=C[o++]|C[o++]<<8|C[o++]<<16|C[o++]<<24;o=0;var x={low:new X.Long(U,nt),high:new X.Long(it,ct)};x.high.lessThan(X.Long.ZERO)&&V.push("-");var P=ct>>26&n;if(P>>3==3){if(P===O)return V.join("")+"Infinity";if(P===d)return"NaN";b=ct>>15&E,z=8+(ct>>14&1)}else z=ct>>14&7,b=ct>>17&E;var ft=b-_;if(K.parts[0]=(ct&16383)+((z&15)<<14),K.parts[1]=it,K.parts[2]=nt,K.parts[3]=U,K.parts[0]===0&&K.parts[1]===0&&K.parts[2]===0&&K.parts[3]===0)J=!0;else for(m=3;m>=0;m--){var j=0,L=W(K);if(K=L.quotient,j=L.rem.low,!!j)for(q=8;q>=0;q--)v[m*9+q]=j%10,j=Math.floor(j/10)}if(J)i=1,v[o]=0;else for(i=36;!v[o];)i=i-1,o=o+1;var yt=i-1+ft;if(yt>=34||yt<=-7||ft>0){if(i>34)return V.push("".concat(0)),ft>0?V.push("E+"+ft):ft<0&&V.push("E"+ft),V.join("");V.push("".concat(v[o++])),i=i-1,i&&V.push(".");for(var Nt=0;Nt<i;Nt++)V.push("".concat(v[o++]));V.push("E"),yt>0?V.push("+"+yt):V.push("".concat(yt))}else if(ft>=0)for(var _t=0;_t<i;_t++)V.push("".concat(v[o++]));else{var dt=i+ft;if(dt>0)for(var Rt=0;Rt<dt;Rt++)V.push("".concat(v[o++]));else V.push("0");for(V.push(".");dt++<0;)V.push("0");for(var l=0;l<i-Math.max(dt-1,0);l++)V.push("".concat(v[o++]))}return V.join("")}},{key:"toJSON",value:function(){return{$numberDecimal:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$numberDecimal:this.toString()}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return'Decimal128("'.concat(this.toString(),'")')}}],[{key:"fromString",value:function(b){var i=!1,v=!1,T=!1,o=0,J=0,z=0,K=0,q=0,m=[0],V=0,C=0,U=0,nt=0,it=0,ct=0,x=new X.Long(0,0),P=new X.Long(0,0),ft=0,j=0;if(b.length>=7e3)throw new TypeError(""+b+" not a valid Decimal128 string");var L=b.match(B),yt=b.match(A),Nt=b.match(g);if(!L&&!yt&&!Nt||b.length===0)throw new TypeError(""+b+" not a valid Decimal128 string");if(L){var _t=L[2],dt=L[4],Rt=L[5],l=L[6];dt&&l===void 0&&Y(b,"missing exponent power"),dt&&_t===void 0&&Y(b,"missing exponent base"),dt===void 0&&(Rt||l)&&Y(b,"missing e before exponent")}if((b[j]==="+"||b[j]==="-")&&(i=b[j++]==="-"),!k(b[j])&&b[j]!=="."){if(b[j]==="i"||b[j]==="I")return new H(M.Buffer.from(i?S:h));if(b[j]==="N")return new H(M.Buffer.from(u))}for(;k(b[j])||b[j]===".";){if(b[j]==="."){v&&Y(b,"contains multiple periods"),v=!0,j=j+1;continue}V<34&&(b[j]!=="0"||T)&&(T||(q=J),T=!0,m[C++]=parseInt(b[j],10),V=V+1),T&&(z=z+1),v&&(K=K+1),J=J+1,j=j+1}if(v&&!J)throw new TypeError(""+b+" not a valid Decimal128 string");if(b[j]==="e"||b[j]==="E"){var t=b.substr(++j).match(y);if(!t||!t[2])return new H(M.Buffer.from(u));it=parseInt(t[0],10),j=j+t[0].length}if(b[j])return new H(M.Buffer.from(u));if(U=0,!V)U=0,nt=0,m[0]=0,z=1,V=1,o=0;else if(nt=V-1,o=z,o!==1)for(;b[q+o-1]==="0";)o=o-1;for(it<=K&&K-it>1<<14?it=a:it=it-K;it>s;){if(nt=nt+1,nt-U>f){var e=m.join("");if(e.match(/^0+$/)){it=s;break}Y(b,"overflow")}it=it-1}for(;it<a||V<z;){if(nt===0&&o<V){it=a,o=0;break}if(V<z?z=z-1:nt=nt-1,it<s)it=it+1;else{var c=m.join("");if(c.match(/^0+$/)){it=s;break}Y(b,"overflow")}}if(nt-U+1<o){var p=J;v&&(q=q+1,p=p+1),i&&(q=q+1,p=p+1);var D=parseInt(b[q+nt+1],10),R=0;if(D>=5&&(R=1,D===5)){for(R=m[nt]%2==1?1:0,ct=q+nt+2;ct<p;ct++)if(parseInt(b[ct],10)){R=1;break}}if(R){for(var tt=nt;tt>=0;tt--)if(++m[tt]>9&&(m[tt]=0,tt===0))if(it<s)it=it+1,m[tt]=1;else return new H(M.Buffer.from(i?S:h))}}if(x=X.Long.fromNumber(0),P=X.Long.fromNumber(0),o===0)x=X.Long.fromNumber(0),P=X.Long.fromNumber(0);else if(nt-U<17){var ot=U;for(P=X.Long.fromNumber(m[ot++]),x=new X.Long(0,0);ot<=nt;ot++)P=P.multiply(X.Long.fromNumber(10)),P=P.add(X.Long.fromNumber(m[ot]))}else{var rt=U;for(x=X.Long.fromNumber(m[rt++]);rt<=nt-17;rt++)x=x.multiply(X.Long.fromNumber(10)),x=x.add(X.Long.fromNumber(m[rt]));for(P=X.Long.fromNumber(m[rt++]);rt<=nt;rt++)P=P.multiply(X.Long.fromNumber(10)),P=P.add(X.Long.fromNumber(m[rt]))}var st=G(x,X.Long.fromString("100000000000000000"));st.low=st.low.add(P),F(st.low,P)&&(st.high=st.high.add(X.Long.fromNumber(1))),ft=it+_;var Q={low:X.Long.fromNumber(0),high:X.Long.fromNumber(0)};st.high.shiftRightUnsigned(49).and(X.Long.fromNumber(1)).equals(X.Long.fromNumber(1))?(Q.high=Q.high.or(X.Long.fromNumber(3).shiftLeft(61)),Q.high=Q.high.or(X.Long.fromNumber(ft).and(X.Long.fromNumber(16383).shiftLeft(47))),Q.high=Q.high.or(st.high.and(X.Long.fromNumber(140737488355327)))):(Q.high=Q.high.or(X.Long.fromNumber(ft&16383).shiftLeft(49)),Q.high=Q.high.or(st.high.and(X.Long.fromNumber(562949953421311)))),Q.low=st.low,i&&(Q.high=Q.high.or(X.Long.fromString("9223372036854775808")));var gt=M.Buffer.alloc(16);return j=0,gt[j++]=Q.low.low&255,gt[j++]=Q.low.low>>8&255,gt[j++]=Q.low.low>>16&255,gt[j++]=Q.low.low>>24&255,gt[j++]=Q.low.high&255,gt[j++]=Q.low.high>>8&255,gt[j++]=Q.low.high>>16&255,gt[j++]=Q.low.high>>24&255,gt[j++]=Q.high.low&255,gt[j++]=Q.high.low>>8&255,gt[j++]=Q.high.low>>16&255,gt[j++]=Q.high.low>>24&255,gt[j++]=Q.high.high&255,gt[j++]=Q.high.high>>8&255,gt[j++]=Q.high.high>>16&255,gt[j++]=Q.high.high>>24&255,new H(gt)}},{key:"fromExtendedJSON",value:function(b){return H.fromString(b.$numberDecimal)}}]),H}();r.Decimal128=I,Object.defineProperty(I.prototype,"_bsontype",{value:"Decimal128"})});lt(qt);var Fr=qt.Decimal128,Wt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Double=void 0;var B=function(){function A(g){Object(Bt.a)(this,A),g instanceof Number&&(g=g.valueOf()),this.value=+g}return Object(Ot.a)(A,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){if(s&&(s.legacy||s.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-".concat(this.value.toFixed(1))};var a;return Number.isInteger(this.value)?(a=this.value.toFixed(1),a.length>=13&&(a=this.value.toExponential(13).toUpperCase())):a=this.value.toString(),{$numberDouble:a}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){var s=this.toExtendedJSON();return"Double(".concat(s.$numberDouble,")")}}],[{key:"fromExtendedJSON",value:function(s,a){var _=parseFloat(s.$numberDouble);return a&&a.relaxed?_:new A(_)}}]),A}();r.Double=B,Object.defineProperty(B.prototype,"_bsontype",{value:"Double"})});lt(Wt);var Yr=Wt.Double,Ht=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Int32=void 0;var B=function(){function A(g){Object(Bt.a)(this,A),g instanceof Number&&(g=g.valueOf()),this.value=+g}return Object(Ot.a)(A,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){return s&&(s.relaxed||s.legacy)?this.value:{$numberInt:this.value.toString()}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return"Int32(".concat(this.valueOf(),")")}}],[{key:"fromExtendedJSON",value:function(s,a){return a&&a.relaxed?parseInt(s.$numberInt,10):new A(s.$numberInt)}}]),A}();r.Int32=B,Object.defineProperty(B.prototype,"_bsontype",{value:"Int32"})});lt(Ht);var Cr=Ht.Int32,Qt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MaxKey=void 0;var B=function(){function A(){Object(Bt.a)(this,A)}return Object(Ot.a)(A,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return"MaxKey()"}}],[{key:"fromExtendedJSON",value:function(){return new A}}]),A}();r.MaxKey=B,Object.defineProperty(B.prototype,"_bsontype",{value:"MaxKey"})});lt(Qt);var kr=Qt.MaxKey,$t=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MinKey=void 0;var B=function(){function A(){Object(Bt.a)(this,A)}return Object(Ot.a)(A,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return"MinKey()"}}],[{key:"fromExtendedJSON",value:function(){return new A}}]),A}();r.MinKey=B,Object.defineProperty(B.prototype,"_bsontype",{value:"MinKey"})});lt($t);var Jr=$t.MinKey,Dt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectId=void 0;for(var B=at.randomBytes(5),A=new RegExp("^[0-9a-fA-F]{24}$"),g=[],s=0;s<256;s++)g[s]=(s<=15?"0":"")+s.toString(16);for(var a=[],_=0;_<10;)a[48+_]=_++;for(;_<16;)a[65-10+_]=a[97-10+_]=_++;var f=Symbol("id"),u=function(){function S(h){if(Object(Bt.a)(this,S),h instanceof S&&(this[f]=h.id,this.__id=h.__id),typeof h=="object"&&h&&"id"in h&&("toHexString"in h&&typeof h.toHexString=="function"?this[f]=M.Buffer.from(h.toHexString(),"hex"):this[f]=typeof h.id=="string"?M.Buffer.from(h.id):h.id),(h==null||typeof h=="number")&&(this[f]=S.generate(typeof h=="number"?h:void 0),S.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(h)&&h.byteLength===12&&(this[f]=Kt.ensureBuffer(h)),typeof h=="string")if(h.length===12){var y=M.Buffer.from(h);y.byteLength===12&&(this[f]=y)}else if(h.length===24&&A.test(h))this[f]=M.Buffer.from(h,"hex");else throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");S.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object(Ot.a)(S,[{key:"toHexString",value:function(){if(S.cacheHexString&&this.__id)return this.__id;var y=this.id.toString("hex");return S.cacheHexString&&!this.__id&&(this.__id=y),y}},{key:"toString",value:function(y){return y?this.id.toString(y):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(y){return y==null?!1:y instanceof S?this.toString()===y.toString():typeof y=="string"&&S.isValid(y)&&y.length===12&&this.id instanceof M.Buffer?y===this.id.toString("binary"):typeof y=="string"&&S.isValid(y)&&y.length===24?y.toLowerCase()===this.toHexString():typeof y=="string"&&S.isValid(y)&&y.length===12?M.Buffer.from(y).equals(this.id):typeof y=="object"&&"toHexString"in y&&typeof y.toHexString=="function"?y.toHexString()===this.toHexString():!1}},{key:"getTimestamp",value:function(){var y=new Date,n=this.id.readUInt32BE(0);return y.setTime(Math.floor(n)*1e3),y}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return'ObjectId("'.concat(this.toHexString(),'")')}},{key:"id",get:function(){return this[f]},set:function(y){this[f]=y,S.cacheHexString&&(this.__id=y.toString("hex"))}},{key:"generationTime",get:function(){return this.id.readInt32BE(0)},set:function(y){this.id.writeUInt32BE(y,0)}}],[{key:"getInc",value:function(){return S.index=(S.index+1)%16777215}},{key:"generate",value:function(y){typeof y!="number"&&(y=~~(Date.now()/1e3));var n=S.getInc(),E=M.Buffer.alloc(12);return E.writeUInt32BE(y,0),E[4]=B[0],E[5]=B[1],E[6]=B[2],E[7]=B[3],E[8]=B[4],E[11]=n&255,E[10]=n>>8&255,E[9]=n>>16&255,E}},{key:"createPk",value:function(){return new S}},{key:"createFromTime",value:function(y){var n=M.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(y,0),new S(n)}},{key:"createFromHexString",value:function(y){if(typeof y=="undefined"||y!=null&&y.length!==24)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new S(M.Buffer.from(y,"hex"))}},{key:"isValid",value:function(y){return y==null?!1:typeof y=="number"?!0:typeof y=="string"?y.length===12||y.length===24&&A.test(y):y instanceof S||y instanceof M.Buffer&&y.length===12?!0:typeof y=="object"&&"toHexString"in y&&typeof y.toHexString=="function"?typeof y.id=="string"?y.id.length===12:y.toHexString().length===24&&A.test(y.id.toString("hex")):!1}},{key:"fromExtendedJSON",value:function(y){return new S(y.$oid)}}]),S}();r.ObjectId=u,u.index=~~(Math.random()*16777215),Object.defineProperty(u.prototype,"generate",{value:at.deprecate(function(S){return u.generate(S)},"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(u.prototype,"getInc",{value:at.deprecate(function(){return u.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"get_inc",{value:at.deprecate(function(){return u.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u,"get_inc",{value:at.deprecate(function(){return u.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"_bsontype",{value:"ObjectID"})});lt(Dt);var zr=Dt.ObjectId,Yt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BSONRegExp=void 0;function B(g){return g.split("").sort().join("")}var A=function(){function g(s,a){Object(Bt.a)(this,g),this.pattern=s,this.options=a!=null?a:"",B(this.options);for(var _=0;_<this.options.length;_++)if(!(this.options[_]==="i"||this.options[_]==="m"||this.options[_]==="x"||this.options[_]==="l"||this.options[_]==="s"||this.options[_]==="u"))throw new Error("The regular expression option [".concat(this.options[_],"] is not supported"))}return Object(Ot.a)(g,[{key:"toExtendedJSON",value:function(a){return a=a||{},a.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(a){return a?a.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(a){if("$regex"in a)if(typeof a.$regex!="string"){if(a.$regex._bsontype==="BSONRegExp")return a}else return new g(a.$regex,g.parseOptions(a.$options));if("$regularExpression"in a)return new g(a.$regularExpression.pattern,g.parseOptions(a.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(a)))}}]),g}();r.BSONRegExp=A,Object.defineProperty(A.prototype,"_bsontype",{value:"BSONRegExp"})});lt(Yt);var Kr=Yt.BSONRegExp,xt=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BSONSymbol=void 0;var B=function(){function A(g){Object(Bt.a)(this,A),this.value=g}return Object(Ot.a)(A,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return'BSONSymbol("'.concat(this.value,'")')}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}}],[{key:"fromExtendedJSON",value:function(s){return new A(s.$symbol)}}]),A}();r.BSONSymbol=B,Object.defineProperty(B.prototype,"_bsontype",{value:"Symbol"})});lt(xt);var Wr=xt.BSONSymbol,Ct=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Timestamp=r.LongWithoutOverridesClass=void 0,r.LongWithoutOverridesClass=X.Long;var B=function(A){Object(Ze.a)(s,A);var g=Object(Me.a)(s);function s(a,_){var f;return Object(Bt.a)(this,s),X.Long.isLong(a)?f=g.call(this,a.low,a.high,!0):f=g.call(this,a,_,!0),Object.defineProperty(Object(Ve.a)(f),"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),Object(Re.a)(f)}return Object(Ot.a)(s,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.inspect()}},{key:"inspect",value:function(){return"Timestamp(".concat(this.getLowBits().toString(),", ").concat(this.getHighBits().toString(),")")}}],[{key:"fromInt",value:function(_){return new s(X.Long.fromInt(_,!0))}},{key:"fromNumber",value:function(_){return new s(X.Long.fromNumber(_,!0))}},{key:"fromBits",value:function(_,f){return new s(_,f)}},{key:"fromString",value:function(_,f){return new s(X.Long.fromString(_,!0,f))}},{key:"fromExtendedJSON",value:function(_){return new s(_.$timestamp.i,_.$timestamp.t)}}]),s}(r.LongWithoutOverridesClass);r.Timestamp=B,B.MAX_VALUE=X.Long.MAX_UNSIGNED_VALUE});lt(Ct);var Hr=Ct.Timestamp,Xr=Ct.LongWithoutOverridesClass,se=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EJSON=r.isBSONType=void 0;function B(O){return at.isObjectLike(O)&&Reflect.has(O,"_bsontype")&&typeof O._bsontype=="string"}r.isBSONType=B;var A=2147483647,g=-2147483648,s=9223372036854776e3,a=-9223372036854776e3,_={$oid:Dt.ObjectId,$binary:vt.Binary,$uuid:vt.Binary,$symbol:xt.BSONSymbol,$numberInt:Ht.Int32,$numberDecimal:qt.Decimal128,$numberDouble:Wt.Double,$numberLong:X.Long,$minKey:$t.MinKey,$maxKey:Qt.MaxKey,$regex:Yt.BSONRegExp,$regularExpression:Yt.BSONRegExp,$timestamp:Ct.Timestamp};function f(O){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof O=="number"){if(d.relaxed||d.legacy)return O;if(Math.floor(O)===O){if(O>=g&&O<=A)return new Ht.Int32(O);if(O>=a&&O<=s)return X.Long.fromNumber(O)}return new Wt.Double(O)}if(O==null||typeof O!="object")return O;if(O.$undefined)return null;for(var k=Object.keys(O).filter(function(i){return i.startsWith("$")&&O[i]!=null}),W=0;W<k.length;W++){var G=_[k[W]];if(G)return G.fromExtendedJSON(O,d)}if(O.$date!=null){var F=O.$date,Y=new Date;return d.legacy?typeof F=="number"?Y.setTime(F):typeof F=="string"&&Y.setTime(Date.parse(F)):typeof F=="string"?Y.setTime(Date.parse(F)):X.Long.isLong(F)?Y.setTime(F.toNumber()):typeof F=="number"&&d.relaxed&&Y.setTime(F),Y}if(O.$code!=null){var I=Object.assign({},O);return O.$scope&&(I.$scope=f(O.$scope)),Ft.Code.fromExtendedJSON(O)}if(O.$ref!=null||O.$dbPointer!=null){var H=O.$ref?O:O.$dbPointer;if(H instanceof Tt.DBRef)return H;var $=Object.keys(H).filter(function(i){return i.startsWith("$")}),b=!0;if($.forEach(function(i){["$ref","$id","$db"].indexOf(i)===-1&&(b=!1)}),b)return Tt.DBRef.fromExtendedJSON(H)}return O}function u(O,d){return O.map(function(k){return h(k,d)})}function S(O){var d=O.toISOString();return O.getUTCMilliseconds()!==0?d:d.slice(0,-5)+"Z"}function h(O,d){if(Array.isArray(O))return u(O,d);if(O===void 0)return null;if(O instanceof Date){var k=O.getTime(),W=k>-1&&k<2534023188e5;return d.legacy?d.relaxed&&W?{$date:O.getTime()}:{$date:S(O)}:d.relaxed&&W?{$date:S(O)}:{$date:{$numberLong:O.getTime().toString()}}}if(typeof O=="number"&&!d.relaxed){if(Math.floor(O)===O){var G=O>=g&&O<=A,F=O>=a&&O<=s;if(G)return{$numberInt:O.toString()};if(F)return{$numberLong:O.toString()}}return{$numberDouble:O.toString()}}if(O instanceof RegExp){var Y=O.flags;if(Y===void 0){var I=O.toString().match(/[gimuy]*$/);I&&(Y=I[0])}var H=new Yt.BSONRegExp(O.source,Y);return H.toExtendedJSON(d)}return O!=null&&typeof O=="object"?n(O,d):O}var y={Binary:function(d){return new vt.Binary(d.value(),d.sub_type)},Code:function(d){return new Ft.Code(d.code,d.scope)},DBRef:function(d){return new Tt.DBRef(d.collection||d.namespace,d.oid,d.db,d.fields)},Decimal128:function(d){return new qt.Decimal128(d.bytes)},Double:function(d){return new Wt.Double(d.value)},Int32:function(d){return new Ht.Int32(d.value)},Long:function(d){return X.Long.fromBits(d.low!=null?d.low:d.low_,d.low!=null?d.high:d.high_,d.low!=null?d.unsigned:d.unsigned_)},MaxKey:function(){return new Qt.MaxKey},MinKey:function(){return new $t.MinKey},ObjectID:function(d){return new Dt.ObjectId(d)},ObjectId:function(d){return new Dt.ObjectId(d)},BSONRegExp:function(d){return new Yt.BSONRegExp(d.pattern,d.options)},Symbol:function(d){return new xt.BSONSymbol(d.value)},Timestamp:function(d){return Ct.Timestamp.fromBits(d.low,d.high)}};function n(O,d){if(O==null||typeof O!="object")throw new Error("not an object instance");var k=O._bsontype;if(typeof k=="undefined"){var W={};for(var G in O)W[G]=h(O[G],d);return W}else if(B(O)){var F=O;if(typeof F.toExtendedJSON!="function"){var Y=y[O._bsontype];if(!Y)throw new TypeError("Unrecognized or invalid _bsontype: "+O._bsontype);F=Y(F)}return k==="Code"&&F.scope?F=new Ft.Code(F.code,h(F.scope,d)):k==="DBRef"&&F.oid&&(F=new Tt.DBRef(F.collection,h(F.oid,d),F.db,F.fields)),F.toExtendedJSON(d)}else throw new Error("_bsontype must be a string, but was: "+typeof k)}var E;(function(O){function d(F,Y){var I=Object.assign({},{relaxed:!0,legacy:!1},Y);return typeof I.relaxed=="boolean"&&(I.strict=!I.relaxed),typeof I.strict=="boolean"&&(I.relaxed=!I.strict),JSON.parse(F,function(H,$){return f($,I)})}O.parse=d;function k(F,Y,I,H){I!=null&&typeof I=="object"&&(H=I,I=0),Y!=null&&typeof Y=="object"&&!Array.isArray(Y)&&(H=Y,Y=void 0,I=0),H=Object.assign({},{relaxed:!0,legacy:!1},H);var $=h(F,H);return JSON.stringify($,Y,I)}O.stringify=k;function W(F,Y){return Y=Y||{},JSON.parse(k(F,Y))}O.serialize=W;function G(F,Y){return Y=Y||{},d(JSON.stringify(F),Y)}O.deserialize=G})(E=r.EJSON||(r.EJSON={}))});lt(se);var Gr=se.EJSON,Vr=se.isBSONType,ye=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Map=void 0;var B;r.Map=B;var A=function(_){return _&&_.Math==Math&&_};function g(){return A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof te=="object"&&te)||Function("return this")()}var s=g();Object.prototype.hasOwnProperty.call(s,"Map")?r.Map=B=s.Map:r.Map=B=function(){function a(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Object(Bt.a)(this,a),this._keys=[],this._values={};for(var f=0;f<_.length;f++)if(_[f]!=null){var u=_[f],S=u[0],h=u[1];this._keys.push(S),this._values[S]={v:h,i:this._keys.length-1}}}return Object(Ot.a)(a,[{key:"clear",value:function(){this._keys=[],this._values={}}},{key:"delete",value:function(f){var u=this._values[f];return u==null?!1:(delete this._values[f],this._keys.splice(u.i,1),!0)}},{key:"entries",value:function(){var f=this,u=0;return{next:function(){var h=f._keys[u++];return{value:h!==void 0?[h,f._values[h].v]:void 0,done:h===void 0}}}}},{key:"forEach",value:function(f,u){u=u||this;for(var S=0;S<this._keys.length;S++){var h=this._keys[S];f.call(u,this._values[h].v,h,u)}}},{key:"get",value:function(f){return this._values[f]?this._values[f].v:void 0}},{key:"has",value:function(f){return this._values[f]!=null}},{key:"keys",value:function(){var f=this,u=0;return{next:function(){var h=f._keys[u++];return{value:h!==void 0?h:void 0,done:h===void 0}}}}},{key:"set",value:function(f,u){return this._values[f]?(this._values[f].v=u,this):(this._keys.push(f),this._values[f]={v:u,i:this._keys.length-1},this)}},{key:"values",value:function(){var f=this,u=0;return{next:function(){var h=f._keys[u++];return{value:h!==void 0?f._values[h].v:void 0,done:h===void 0}}}}},{key:"size",get:function(){return this._keys.length}}]),a}()});lt(ye);var Zr=ye.Map,w=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BSON_BINARY_SUBTYPE_USER_DEFINED=r.BSON_BINARY_SUBTYPE_MD5=r.BSON_BINARY_SUBTYPE_UUID_NEW=r.BSON_BINARY_SUBTYPE_UUID=r.BSON_BINARY_SUBTYPE_BYTE_ARRAY=r.BSON_BINARY_SUBTYPE_FUNCTION=r.BSON_BINARY_SUBTYPE_DEFAULT=r.BSON_DATA_MAX_KEY=r.BSON_DATA_MIN_KEY=r.BSON_DATA_DECIMAL128=r.BSON_DATA_LONG=r.BSON_DATA_TIMESTAMP=r.BSON_DATA_INT=r.BSON_DATA_CODE_W_SCOPE=r.BSON_DATA_SYMBOL=r.BSON_DATA_CODE=r.BSON_DATA_DBPOINTER=r.BSON_DATA_REGEXP=r.BSON_DATA_NULL=r.BSON_DATA_DATE=r.BSON_DATA_BOOLEAN=r.BSON_DATA_OID=r.BSON_DATA_UNDEFINED=r.BSON_DATA_BINARY=r.BSON_DATA_ARRAY=r.BSON_DATA_OBJECT=r.BSON_DATA_STRING=r.BSON_DATA_NUMBER=r.JS_INT_MIN=r.JS_INT_MAX=r.BSON_INT64_MIN=r.BSON_INT64_MAX=r.BSON_INT32_MIN=r.BSON_INT32_MAX=void 0,r.BSON_INT32_MAX=2147483647,r.BSON_INT32_MIN=-2147483648,r.BSON_INT64_MAX=Math.pow(2,63)-1,r.BSON_INT64_MIN=-Math.pow(2,63),r.JS_INT_MAX=Math.pow(2,53),r.JS_INT_MIN=-Math.pow(2,53),r.BSON_DATA_NUMBER=1,r.BSON_DATA_STRING=2,r.BSON_DATA_OBJECT=3,r.BSON_DATA_ARRAY=4,r.BSON_DATA_BINARY=5,r.BSON_DATA_UNDEFINED=6,r.BSON_DATA_OID=7,r.BSON_DATA_BOOLEAN=8,r.BSON_DATA_DATE=9,r.BSON_DATA_NULL=10,r.BSON_DATA_REGEXP=11,r.BSON_DATA_DBPOINTER=12,r.BSON_DATA_CODE=13,r.BSON_DATA_SYMBOL=14,r.BSON_DATA_CODE_W_SCOPE=15,r.BSON_DATA_INT=16,r.BSON_DATA_TIMESTAMP=17,r.BSON_DATA_LONG=18,r.BSON_DATA_DECIMAL128=19,r.BSON_DATA_MIN_KEY=255,r.BSON_DATA_MAX_KEY=127,r.BSON_BINARY_SUBTYPE_DEFAULT=0,r.BSON_BINARY_SUBTYPE_FUNCTION=1,r.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,r.BSON_BINARY_SUBTYPE_UUID=3,r.BSON_BINARY_SUBTYPE_UUID_NEW=4,r.BSON_BINARY_SUBTYPE_MD5=5,r.BSON_BINARY_SUBTYPE_USER_DEFINED=128});lt(w);var qr=w.BSON_BINARY_SUBTYPE_USER_DEFINED,Qr=w.BSON_BINARY_SUBTYPE_MD5,$r=w.BSON_BINARY_SUBTYPE_UUID_NEW,xr=w.BSON_BINARY_SUBTYPE_UUID,tn=w.BSON_BINARY_SUBTYPE_BYTE_ARRAY,en=w.BSON_BINARY_SUBTYPE_FUNCTION,rn=w.BSON_BINARY_SUBTYPE_DEFAULT,nn=w.BSON_DATA_MAX_KEY,on=w.BSON_DATA_MIN_KEY,an=w.BSON_DATA_DECIMAL128,sn=w.BSON_DATA_LONG,fn=w.BSON_DATA_TIMESTAMP,un=w.BSON_DATA_INT,ln=w.BSON_DATA_CODE_W_SCOPE,cn=w.BSON_DATA_SYMBOL,hn=w.BSON_DATA_CODE,gn=w.BSON_DATA_DBPOINTER,yn=w.BSON_DATA_REGEXP,Bn=w.BSON_DATA_NULL,On=w.BSON_DATA_DATE,Nn=w.BSON_DATA_BOOLEAN,_n=w.BSON_DATA_OID,mn=w.BSON_DATA_UNDEFINED,pn=w.BSON_DATA_BINARY,En=w.BSON_DATA_ARRAY,An=w.BSON_DATA_OBJECT,Sn=w.BSON_DATA_STRING,vn=w.BSON_DATA_NUMBER,dn=w.JS_INT_MIN,wn=w.JS_INT_MAX,Tn=w.BSON_INT64_MIN,bn=w.BSON_INT64_MAX,In=w.BSON_INT32_MIN,Dn=w.BSON_INT32_MAX,We=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateObjectSize=void 0;function B(g,s,a){var _=4+1;if(Array.isArray(g))for(var f=0;f<g.length;f++)_+=A(f.toString(),g[f],s,!0,a);else{g.toBSON&&(g=g.toBSON());for(var u in g)_+=A(u,g[u],s,!1,a)}return _}r.calculateObjectSize=B;function A(g,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;switch(s&&s.toBSON&&(s=s.toBSON()),typeof s){case"string":return 1+M.Buffer.byteLength(g,"utf8")+1+4+M.Buffer.byteLength(s,"utf8")+1;case"number":return Math.floor(s)===s&&s>=w.JS_INT_MIN&&s<=w.JS_INT_MAX&&s>=w.BSON_INT32_MIN&&s<=w.BSON_INT32_MAX?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(4+1):(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(8+1);case"undefined":return _||!f?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1:0;case"boolean":return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(1+1);case"object":if(s==null||s._bsontype==="MinKey"||s._bsontype==="MaxKey")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1;if(s._bsontype==="ObjectId"||s._bsontype==="ObjectID")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(12+1);if(s instanceof Date||at.isDate(s))return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(8+1);if(ArrayBuffer.isView(s)||s instanceof ArrayBuffer)return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(1+4+1)+s.byteLength;if(s._bsontype==="Long"||s._bsontype==="Double"||s._bsontype==="Timestamp")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(8+1);if(s._bsontype==="Decimal128")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(16+1);if(s._bsontype==="Code")return s.scope!=null&&Object.keys(s.scope).length>0?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+4+4+M.Buffer.byteLength(s.code.toString(),"utf8")+1+B(s.scope,a,f):(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+4+M.Buffer.byteLength(s.code.toString(),"utf8")+1;if(s._bsontype==="Binary")return s.sub_type===vt.Binary.SUBTYPE_BYTE_ARRAY?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(s.position+1+4+1+4):(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+(s.position+1+4+1);if(s._bsontype==="Symbol")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+M.Buffer.byteLength(s.value,"utf8")+4+1+1;if(s._bsontype==="DBRef"){var u=Object.assign({$ref:s.collection,$id:s.oid},s.fields);return s.db!=null&&(u.$db=s.db),(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+B(u,a,f)}else return s instanceof RegExp||Object.prototype.toString.call(s)==="[object RegExp]"?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+M.Buffer.byteLength(s.source,"utf8")+1+(s.global?1:0)+(s.ignoreCase?1:0)+(s.multiline?1:0)+1:s._bsontype==="BSONRegExp"?(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+M.Buffer.byteLength(s.pattern,"utf8")+1+M.Buffer.byteLength(s.options,"utf8")+1:(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+B(s,a,f)+1;case"function":if(s instanceof RegExp||Object.prototype.toString.call(s)==="[object RegExp]"||String.call(s)==="[object RegExp]")return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+M.Buffer.byteLength(s.source,"utf8")+1+(s.global?1:0)+(s.ignoreCase?1:0)+(s.multiline?1:0)+1;if(a&&s.scope!=null&&Object.keys(s.scope).length>0)return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+4+4+M.Buffer.byteLength(at.normalizedFunctionString(s),"utf8")+1+B(s.scope,a,f);if(a)return(g!=null?M.Buffer.byteLength(g,"utf8")+1:0)+1+4+M.Buffer.byteLength(at.normalizedFunctionString(s),"utf8")+1}return 0}});lt(We);var Un=We.calculateObjectSize,be=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUtf8=void 0;var B=128,A=192,g=224,s=240,a=248,_=192,f=224,u=240,S=128;function h(y,n,E){for(var O=0,d=n;d<E;d+=1){var k=y[d];if(O){if((k&A)!==S)return!1;O-=1}else if(k&B)if((k&g)===_)O=1;else if((k&s)===f)O=2;else if((k&a)===u)O=3;else return!1}return!O}r.validateUtf8=h});lt(be);var Rn=be.validateUtf8,Ie=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserialize=void 0;var B=X.Long.fromNumber(w.JS_INT_MAX),A=X.Long.fromNumber(w.JS_INT_MIN),g={};function s(f,u,S){u=u==null?{}:u;var h=u&&u.index?u.index:0,y=f[h]|f[h+1]<<8|f[h+2]<<16|f[h+3]<<24;if(y<5)throw new Error("bson size must be >= 5, is ".concat(y));if(u.allowObjectSmallerThanBufferSize&&f.length<y)throw new Error("buffer length ".concat(f.length," must be >= bson size ").concat(y));if(!u.allowObjectSmallerThanBufferSize&&f.length!==y)throw new Error("buffer length ".concat(f.length," must === bson size ").concat(y));if(y+h>f.byteLength)throw new Error("(bson size ".concat(y," + options.index ").concat(h," must be <= buffer length ").concat(f.byteLength,")"));if(f[h+y-1]!==0)throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return a(f,h,u,S)}r.deserialize=s;function a(f,u,S){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,y=S.evalFunctions==null?!1:S.evalFunctions,n=S.cacheFunctions==null?!1:S.cacheFunctions,E=S.fieldsAsRaw==null?null:S.fieldsAsRaw,O=S.raw==null?!1:S.raw,d=typeof S.bsonRegExp=="boolean"?S.bsonRegExp:!1,k=S.promoteBuffers==null?!1:S.promoteBuffers,W=S.promoteLongs==null?!0:S.promoteLongs,G=S.promoteValues==null?!0:S.promoteValues,F=u;if(f.length<5)throw new Error("corrupt bson message < 5 bytes long");var Y=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(Y<5||Y>f.length)throw new Error("corrupt bson message");for(var I=h?[]:{},H=0,$=!1;!$;){var b=f[u++];if(b===0)break;for(var i=u;f[i]!==0&&i<f.length;)i++;if(i>=f.byteLength)throw new Error("Bad BSON Document: illegal CString");var v=h?H++:f.toString("utf8",u,i);if(u=i+1,b===w.BSON_DATA_STRING){var T=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(T<=0||T>f.length-u||f[u+T-1]!==0)throw new Error("bad string length in bson");if(!be.validateUtf8(f,u,u+T-1))throw new Error("Invalid UTF-8 string in BSON document");var o=f.toString("utf8",u,u+T-1);I[v]=o,u=u+T}else if(b===w.BSON_DATA_OID){var J=M.Buffer.alloc(12);f.copy(J,0,u,u+12),I[v]=new Dt.ObjectId(J),u=u+12}else if(b===w.BSON_DATA_INT&&G===!1)I[v]=new Ht.Int32(f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24);else if(b===w.BSON_DATA_INT)I[v]=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;else if(b===w.BSON_DATA_NUMBER&&G===!1)I[v]=new Wt.Double(f.readDoubleLE(u)),u=u+8;else if(b===w.BSON_DATA_NUMBER)I[v]=f.readDoubleLE(u),u=u+8;else if(b===w.BSON_DATA_DATE){var z=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,K=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;I[v]=new Date(new X.Long(z,K).toNumber())}else if(b===w.BSON_DATA_BOOLEAN){if(f[u]!==0&&f[u]!==1)throw new Error("illegal boolean type value");I[v]=f[u++]===1}else if(b===w.BSON_DATA_OBJECT){var q=u,m=f[u]|f[u+1]<<8|f[u+2]<<16|f[u+3]<<24;if(m<=0||m>f.length-u)throw new Error("bad embedded document length in bson");O?I[v]=f.slice(u,u+m):I[v]=a(f,q,S,!1),u=u+m}else if(b===w.BSON_DATA_ARRAY){var V=u,C=f[u]|f[u+1]<<8|f[u+2]<<16|f[u+3]<<24,U=S,nt=u+C;if(E&&E[v]){U={};for(var it in S)U[it]=S[it];U.raw=!0}if(I[v]=a(f,V,U,!0),u=u+C,f[u-1]!==0)throw new Error("invalid array terminator byte");if(u!==nt)throw new Error("corrupted array bson")}else if(b===w.BSON_DATA_UNDEFINED)I[v]=void 0;else if(b===w.BSON_DATA_NULL)I[v]=null;else if(b===w.BSON_DATA_LONG){var ct=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,x=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,P=new X.Long(ct,x);W&&G===!0?I[v]=P.lessThanOrEqual(B)&&P.greaterThanOrEqual(A)?P.toNumber():P:I[v]=P}else if(b===w.BSON_DATA_DECIMAL128){var ft=M.Buffer.alloc(16);f.copy(ft,0,u,u+16),u=u+16;var j=new qt.Decimal128(ft);"toObject"in j&&typeof j.toObject=="function"?I[v]=j.toObject():I[v]=j}else if(b===w.BSON_DATA_BINARY){var L=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,yt=L,Nt=f[u++];if(L<0)throw new Error("Negative binary type element size found");if(L>f.byteLength)throw new Error("Binary type size larger than document size");if(f.slice!=null){if(Nt===vt.Binary.SUBTYPE_BYTE_ARRAY){if(L=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,L<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>yt-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(L<yt-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}k&&G?I[v]=f.slice(u,u+L):I[v]=new vt.Binary(f.slice(u,u+L),Nt)}else{var _t=M.Buffer.alloc(L);if(Nt===vt.Binary.SUBTYPE_BYTE_ARRAY){if(L=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,L<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>yt-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(L<yt-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(i=0;i<L;i++)_t[i]=f[u+i];k&&G?I[v]=_t:I[v]=new vt.Binary(_t,Nt)}u=u+L}else if(b===w.BSON_DATA_REGEXP&&d===!1){for(i=u;f[i]!==0&&i<f.length;)i++;if(i>=f.length)throw new Error("Bad BSON Document: illegal CString");var dt=f.toString("utf8",u,i);for(u=i+1,i=u;f[i]!==0&&i<f.length;)i++;if(i>=f.length)throw new Error("Bad BSON Document: illegal CString");var Rt=f.toString("utf8",u,i);u=i+1;var l=new Array(Rt.length);for(i=0;i<Rt.length;i++)switch(Rt[i]){case"m":l[i]="m";break;case"s":l[i]="g";break;case"i":l[i]="i";break}I[v]=new RegExp(dt,l.join(""))}else if(b===w.BSON_DATA_REGEXP&&d===!0){for(i=u;f[i]!==0&&i<f.length;)i++;if(i>=f.length)throw new Error("Bad BSON Document: illegal CString");var t=f.toString("utf8",u,i);for(u=i+1,i=u;f[i]!==0&&i<f.length;)i++;if(i>=f.length)throw new Error("Bad BSON Document: illegal CString");var e=f.toString("utf8",u,i);u=i+1,I[v]=new Yt.BSONRegExp(t,e)}else if(b===w.BSON_DATA_SYMBOL){var c=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(c<=0||c>f.length-u||f[u+c-1]!==0)throw new Error("bad string length in bson");var p=f.toString("utf8",u,u+c-1);I[v]=G?p:new xt.BSONSymbol(p),u=u+c}else if(b===w.BSON_DATA_TIMESTAMP){var D=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24,R=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;I[v]=new Ct.Timestamp(D,R)}else if(b===w.BSON_DATA_MIN_KEY)I[v]=new $t.MinKey;else if(b===w.BSON_DATA_MAX_KEY)I[v]=new Qt.MaxKey;else if(b===w.BSON_DATA_CODE){var tt=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(tt<=0||tt>f.length-u||f[u+tt-1]!==0)throw new Error("bad string length in bson");var ot=f.toString("utf8",u,u+tt-1);y?n?I[v]=_(ot,g,I):I[v]=_(ot):I[v]=new Ft.Code(ot),u=u+tt}else if(b===w.BSON_DATA_CODE_W_SCOPE){var rt=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(rt<4+4+4+1)throw new Error("code_w_scope total size shorter minimum expected length");var st=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(st<=0||st>f.length-u||f[u+st-1]!==0)throw new Error("bad string length in bson");var Q=f.toString("utf8",u,u+st-1);u=u+st;var gt=u,fe=f[u]|f[u+1]<<8|f[u+2]<<16|f[u+3]<<24,Oe=a(f,gt,S,!1);if(u=u+fe,rt<4+4+fe+st)throw new Error("code_w_scope total size is too short, truncating scope");if(rt>4+4+fe+st)throw new Error("code_w_scope total size is too long, clips outer document");y?(n?I[v]=_(Q,g,I):I[v]=_(Q),I[v].scope=Oe):I[v]=new Ft.Code(Q,Oe)}else if(b===w.BSON_DATA_DBPOINTER){var ue=f[u++]|f[u++]<<8|f[u++]<<16|f[u++]<<24;if(ue<=0||ue>f.length-u||f[u+ue-1]!==0)throw new Error("bad string length in bson");if(!be.validateUtf8(f,u,u+ue-1))throw new Error("Invalid UTF-8 string in BSON document");var Nr=f.toString("utf8",u,u+ue-1);u=u+ue;var ir=M.Buffer.alloc(12);f.copy(ir,0,u,u+12);var _r=new Dt.ObjectId(ir);u=u+12,I[v]=new Tt.DBRef(Nr,_r)}else throw new Error("Detected unknown BSON type "+b.toString(16)+' for fieldname "'+v+'"')}if(Y!==u-F)throw h?new Error("corrupt array bson"):new Error("corrupt object bson");var mr=Object.keys(I).filter(function(He){return He.startsWith("$")}),or=!0;if(mr.forEach(function(He){["$ref","$id","$db"].indexOf(He)===-1&&(or=!1)}),!or)return I;if(Tt.isDBRefLike(I)){var Ue=Object.assign({},I);return delete Ue.$ref,delete Ue.$id,delete Ue.$db,new Tt.DBRef(I.$ref,I.$id,I.$db,Ue)}return I}function _(f,u,S){return u?(u[f]==null&&(u[f]=new Function(f)),u[f].bind(S)):new Function(f)}});lt(Ie);var Mn=Ie.deserialize,Be=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.writeIEEE754=r.readIEEE754=void 0;function B(g,s,a,_,f){var u,S,h=a==="big",y=f*8-_-1,n=(1<<y)-1,E=n>>1,O=-7,d=h?0:f-1,k=h?1:-1,W=g[s+d];for(d+=k,u=W&(1<<-O)-1,W>>=-O,O+=y;O>0;u=u*256+g[s+d],d+=k,O-=8);for(S=u&(1<<-O)-1,u>>=-O,O+=_;O>0;S=S*256+g[s+d],d+=k,O-=8);if(u===0)u=1-E;else{if(u===n)return S?NaN:(W?-1:1)*Infinity;S=S+Math.pow(2,_),u=u-E}return(W?-1:1)*S*Math.pow(2,u-_)}r.readIEEE754=B;function A(g,s,a,_,f,u){var S,h,y,n=_==="big",E=u*8-f-1,O=(1<<E)-1,d=O>>1,k=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,W=n?u-1:0,G=n?-1:1,F=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===Infinity?(h=isNaN(s)?1:0,S=O):(S=Math.floor(Math.log(s)/Math.LN2),s*(y=Math.pow(2,-S))<1&&(S--,y*=2),S+d>=1?s+=k/y:s+=k*Math.pow(2,1-d),s*y>=2&&(S++,y/=2),S+d>=O?(h=0,S=O):S+d>=1?(h=(s*y-1)*Math.pow(2,f),S=S+d):(h=s*Math.pow(2,d-1)*Math.pow(2,f),S=0)),isNaN(s)&&(h=0);f>=8;)g[a+W]=h&255,W+=G,h/=256,f-=8;for(S=S<<f|h,isNaN(s)&&(S+=8),E+=f;E>0;)g[a+W]=S&255,W+=G,S/=256,E-=8;g[a+W-G]|=F*128}r.writeIEEE754=A});lt(Be);var jn=Be.writeIEEE754,Ln=Be.readIEEE754,De=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.serializeInto=void 0;var B=/\x00/,A=new Set(["$db","$ref","$id","$clusterTime"]);function g(i){return Object.prototype.toString.call(i)==="[object RegExp]"}function s(i,v,T,o,J){i[o++]=w.BSON_DATA_STRING;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z+1,i[o-1]=0;var K=i.write(T,o+4,void 0,"utf8");return i[o+3]=K+1>>24&255,i[o+2]=K+1>>16&255,i[o+1]=K+1>>8&255,i[o]=K+1&255,o=o+4+K,i[o++]=0,o}function a(i,v,T,o,J){if(Number.isInteger(T)&&T>=w.BSON_INT32_MIN&&T<=w.BSON_INT32_MAX){i[o++]=w.BSON_DATA_INT;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0,i[o++]=T&255,i[o++]=T>>8&255,i[o++]=T>>16&255,i[o++]=T>>24&255}else{i[o++]=w.BSON_DATA_NUMBER;var K=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+K,i[o++]=0,Be.writeIEEE754(i,T,o,"little",52,8),o=o+8}return o}function _(i,v,T,o,J){i[o++]=w.BSON_DATA_NULL;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,o}function f(i,v,T,o,J){i[o++]=w.BSON_DATA_BOOLEAN;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,i[o++]=T?1:0,o}function u(i,v,T,o,J){i[o++]=w.BSON_DATA_DATE;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0;var K=X.Long.fromNumber(T.getTime()),q=K.getLowBits(),m=K.getHighBits();return i[o++]=q&255,i[o++]=q>>8&255,i[o++]=q>>16&255,i[o++]=q>>24&255,i[o++]=m&255,i[o++]=m>>8&255,i[o++]=m>>16&255,i[o++]=m>>24&255,o}function S(i,v,T,o,J){i[o++]=w.BSON_DATA_REGEXP;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");if(o=o+z,i[o++]=0,T.source&&T.source.match(B)!=null)throw Error("value "+T.source+" must not contain null bytes");return o=o+i.write(T.source,o,void 0,"utf8"),i[o++]=0,T.ignoreCase&&(i[o++]=105),T.global&&(i[o++]=115),T.multiline&&(i[o++]=109),i[o++]=0,o}function h(i,v,T,o,J){i[o++]=w.BSON_DATA_REGEXP;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");if(o=o+z,i[o++]=0,T.pattern.match(B)!=null)throw Error("pattern "+T.pattern+" must not contain null bytes");return o=o+i.write(T.pattern,o,void 0,"utf8"),i[o++]=0,o=o+i.write(T.options.split("").sort().join(""),o,void 0,"utf8"),i[o++]=0,o}function y(i,v,T,o,J){T===null?i[o++]=w.BSON_DATA_NULL:T._bsontype==="MinKey"?i[o++]=w.BSON_DATA_MIN_KEY:i[o++]=w.BSON_DATA_MAX_KEY;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,o}function n(i,v,T,o,J){i[o++]=w.BSON_DATA_OID;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");if(o=o+z,i[o++]=0,typeof T.id=="string")i.write(T.id,o,void 0,"binary");else if(T.id&&T.id.copy)T.id.copy(i,o,0,12);else throw new TypeError("object ["+JSON.stringify(T)+"] is not a valid ObjectId");return o+12}function E(i,v,T,o,J){i[o++]=w.BSON_DATA_BINARY;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0;var K=T.length;return i[o++]=K&255,i[o++]=K>>8&255,i[o++]=K>>16&255,i[o++]=K>>24&255,i[o++]=w.BSON_BINARY_SUBTYPE_DEFAULT,i.set(Kt.ensureBuffer(T),o),o=o+K,o}function O(i,v,T,o){for(var J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!0,m=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,V=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],C=0;C<V.length;C++)if(V[C]===T)throw new Error("cyclic dependency detected");V.push(T),i[o++]=Array.isArray(T)?w.BSON_DATA_ARRAY:w.BSON_DATA_OBJECT;var U=m?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+U,i[o++]=0;var nt=b(i,T,J,o,z+1,K,q,V);return V.pop(),nt}function d(i,v,T,o,J){i[o++]=w.BSON_DATA_DECIMAL128;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,T.bytes.copy(i,o,0,16),o+16}function k(i,v,T,o,J){i[o++]=T._bsontype==="Long"?w.BSON_DATA_LONG:w.BSON_DATA_TIMESTAMP;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0;var K=T.getLowBits(),q=T.getHighBits();return i[o++]=K&255,i[o++]=K>>8&255,i[o++]=K>>16&255,i[o++]=K>>24&255,i[o++]=q&255,i[o++]=q>>8&255,i[o++]=q>>16&255,i[o++]=q>>24&255,o}function W(i,v,T,o,J){T=T.valueOf(),i[o++]=w.BSON_DATA_INT;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,i[o++]=T&255,i[o++]=T>>8&255,i[o++]=T>>16&255,i[o++]=T>>24&255,o}function G(i,v,T,o,J){i[o++]=w.BSON_DATA_NUMBER;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");return o=o+z,i[o++]=0,Be.writeIEEE754(i,T.value,o,"little",52,8),o=o+8,o}function F(i,v,T,o){var J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,K=arguments.length>6?arguments[6]:void 0;i[o++]=w.BSON_DATA_CODE;var q=K?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+q,i[o++]=0;var m=at.normalizedFunctionString(T),V=i.write(m,o+4,void 0,"utf8")+1;return i[o]=V&255,i[o+1]=V>>8&255,i[o+2]=V>>16&255,i[o+3]=V>>24&255,o=o+4+V-1,i[o++]=0,o}function Y(i,v,T,o){var J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!0,m=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;if(T.scope&&typeof T.scope=="object"){i[o++]=w.BSON_DATA_CODE_W_SCOPE;var V=m?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+V,i[o++]=0;var C=o,U=typeof T.code=="string"?T.code:T.code.toString();o=o+4;var nt=i.write(U,o+4,void 0,"utf8")+1;i[o]=nt&255,i[o+1]=nt>>8&255,i[o+2]=nt>>16&255,i[o+3]=nt>>24&255,i[o+4+nt-1]=0,o=o+nt+4;var it=b(i,T.scope,J,o,z+1,K,q);o=it-1;var ct=it-C;i[C++]=ct&255,i[C++]=ct>>8&255,i[C++]=ct>>16&255,i[C++]=ct>>24&255,i[o++]=0}else{i[o++]=w.BSON_DATA_CODE;var x=m?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+x,i[o++]=0;var P=T.code.toString(),ft=i.write(P,o+4,void 0,"utf8")+1;i[o]=ft&255,i[o+1]=ft>>8&255,i[o+2]=ft>>16&255,i[o+3]=ft>>24&255,o=o+4+ft-1,i[o++]=0}return o}function I(i,v,T,o,J){i[o++]=w.BSON_DATA_BINARY;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0;var K=T.value(!0),q=T.position;return T.sub_type===vt.Binary.SUBTYPE_BYTE_ARRAY&&(q=q+4),i[o++]=q&255,i[o++]=q>>8&255,i[o++]=q>>16&255,i[o++]=q>>24&255,i[o++]=T.sub_type,T.sub_type===vt.Binary.SUBTYPE_BYTE_ARRAY&&(q=q-4,i[o++]=q&255,i[o++]=q>>8&255,i[o++]=q>>16&255,i[o++]=q>>24&255),i.set(K,o),o=o+T.position,o}function H(i,v,T,o,J){i[o++]=w.BSON_DATA_SYMBOL;var z=J?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+z,i[o++]=0;var K=i.write(T.value,o+4,void 0,"utf8")+1;return i[o]=K&255,i[o+1]=K>>8&255,i[o+2]=K>>16&255,i[o+3]=K>>24&255,o=o+4+K-1,i[o++]=0,o}function $(i,v,T,o,J,z,K){i[o++]=w.BSON_DATA_OBJECT;var q=K?i.write(v,o,void 0,"ascii"):i.write(v,o,void 0,"utf8");o=o+q,i[o++]=0;var m=o,V={$ref:T.collection||T.namespace,$id:T.oid};T.db!=null&&(V.$db=T.db),V=Object.assign(V,T.fields);var C=b(i,V,!1,o,J+1,z),U=C-m;return i[m++]=U&255,i[m++]=U>>8&255,i[m++]=U>>16&255,i[m++]=U>>24&255,C}function b(i,v){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[];o=o||0,q=q||[],q.push(v);var m=o+4;if(Array.isArray(v))for(var V=0;V<v.length;V++){var C=""+V,U=v[V];if(U&&U.toBSON){if(typeof U.toBSON!="function")throw new TypeError("toBSON is not a function");U=U.toBSON()}if(typeof U=="string")m=s(i,C,U,m,!0);else if(typeof U=="number")m=a(i,C,U,m,!0);else{if(typeof U=="bigint")throw new TypeError("Unsupported type BigInt, please use Decimal128");if(typeof U=="boolean")m=f(i,C,U,m,!0);else if(U instanceof Date||at.isDate(U))m=u(i,C,U,m,!0);else if(U===void 0)m=_(i,C,U,m,!0);else if(U===null)m=_(i,C,U,m,!0);else if(U._bsontype==="ObjectId"||U._bsontype==="ObjectID")m=n(i,C,U,m,!0);else if(at.isBuffer(U)||at.isUint8Array(U))m=E(i,C,U,m,!0);else if(U instanceof RegExp||g(U))m=S(i,C,U,m,!0);else if(typeof U=="object"&&U._bsontype==null)m=O(i,C,U,m,T,J,z,K,!0,q);else if(typeof U=="object"&&se.isBSONType(U)&&U._bsontype==="Decimal128")m=d(i,C,U,m,!0);else if(U._bsontype==="Long"||U._bsontype==="Timestamp")m=k(i,C,U,m,!0);else if(U._bsontype==="Double")m=G(i,C,U,m,!0);else if(typeof U=="function"&&z)m=F(i,C,U,m,T,J,!0);else if(U._bsontype==="Code")m=Y(i,C,U,m,T,J,z,K,!0);else if(U._bsontype==="Binary")m=I(i,C,U,m,!0);else if(U._bsontype==="Symbol")m=H(i,C,U,m,!0);else if(U._bsontype==="DBRef")m=$(i,C,U,m,J,z,!0);else if(U._bsontype==="BSONRegExp")m=h(i,C,U,m,!0);else if(U._bsontype==="Int32")m=W(i,C,U,m,!0);else if(U._bsontype==="MinKey"||U._bsontype==="MaxKey")m=y(i,C,U,m,!0);else if(typeof U._bsontype!="undefined")throw new TypeError("Unrecognized or invalid _bsontype: "+U._bsontype)}}else if(v instanceof ye.Map)for(var nt=v.entries(),it=!1;!it;){var ct=nt.next();if(it=!!ct.done,!it){var x=ct.value[0],P=ct.value[1],ft=typeof P;if(typeof x=="string"&&!A.has(x)){if(x.match(B)!=null)throw Error("key "+x+" must not contain null bytes");if(T){if(x[0]==="$")throw Error("key "+x+" must not start with '$'");if(~x.indexOf("."))throw Error("key "+x+" must not contain '.'")}}if(ft==="string")m=s(i,x,P,m);else if(ft==="number")m=a(i,x,P,m);else{if(ft==="bigint"||at.isBigInt64Array(P)||at.isBigUInt64Array(P))throw new TypeError("Unsupported type BigInt, please use Decimal128");if(ft==="boolean")m=f(i,x,P,m);else if(P instanceof Date||at.isDate(P))m=u(i,x,P,m);else if(P===null||P===void 0&&K===!1)m=_(i,x,P,m);else if(P._bsontype==="ObjectId"||P._bsontype==="ObjectID")m=n(i,x,P,m);else if(at.isBuffer(P)||at.isUint8Array(P))m=E(i,x,P,m);else if(P instanceof RegExp||g(P))m=S(i,x,P,m);else if(ft==="object"&&P._bsontype==null)m=O(i,x,P,m,T,J,z,K,!1,q);else if(ft==="object"&&P._bsontype==="Decimal128")m=d(i,x,P,m);else if(P._bsontype==="Long"||P._bsontype==="Timestamp")m=k(i,x,P,m);else if(P._bsontype==="Double")m=G(i,x,P,m);else if(P._bsontype==="Code")m=Y(i,x,P,m,T,J,z,K);else if(typeof P=="function"&&z)m=F(i,x,P,m,T,J,z);else if(P._bsontype==="Binary")m=I(i,x,P,m);else if(P._bsontype==="Symbol")m=H(i,x,P,m);else if(P._bsontype==="DBRef")m=$(i,x,P,m,J,z);else if(P._bsontype==="BSONRegExp")m=h(i,x,P,m);else if(P._bsontype==="Int32")m=W(i,x,P,m);else if(P._bsontype==="MinKey"||P._bsontype==="MaxKey")m=y(i,x,P,m);else if(typeof P._bsontype!="undefined")throw new TypeError("Unrecognized or invalid _bsontype: "+P._bsontype)}}}else{if(v.toBSON){if(typeof v.toBSON!="function")throw new TypeError("toBSON is not a function");if(v=v.toBSON(),v!=null&&typeof v!="object")throw new TypeError("toBSON function did not return an object")}for(var j in v){var L=v[j];if(L&&L.toBSON){if(typeof L.toBSON!="function")throw new TypeError("toBSON is not a function");L=L.toBSON()}var yt=typeof L;if(typeof j=="string"&&!A.has(j)){if(j.match(B)!=null)throw Error("key "+j+" must not contain null bytes");if(T){if(j[0]==="$")throw Error("key "+j+" must not start with '$'");if(~j.indexOf("."))throw Error("key "+j+" must not contain '.'")}}if(yt==="string")m=s(i,j,L,m);else if(yt==="number")m=a(i,j,L,m);else{if(yt==="bigint")throw new TypeError("Unsupported type BigInt, please use Decimal128");if(yt==="boolean")m=f(i,j,L,m);else if(L instanceof Date||at.isDate(L))m=u(i,j,L,m);else if(L===void 0)K===!1&&(m=_(i,j,L,m));else if(L===null)m=_(i,j,L,m);else if(L._bsontype==="ObjectId"||L._bsontype==="ObjectID")m=n(i,j,L,m);else if(at.isBuffer(L)||at.isUint8Array(L))m=E(i,j,L,m);else if(L instanceof RegExp||g(L))m=S(i,j,L,m);else if(yt==="object"&&L._bsontype==null)m=O(i,j,L,m,T,J,z,K,!1,q);else if(yt==="object"&&L._bsontype==="Decimal128")m=d(i,j,L,m);else if(L._bsontype==="Long"||L._bsontype==="Timestamp")m=k(i,j,L,m);else if(L._bsontype==="Double")m=G(i,j,L,m);else if(L._bsontype==="Code")m=Y(i,j,L,m,T,J,z,K);else if(typeof L=="function"&&z)m=F(i,j,L,m,T,J,z);else if(L._bsontype==="Binary")m=I(i,j,L,m);else if(L._bsontype==="Symbol")m=H(i,j,L,m);else if(L._bsontype==="DBRef")m=$(i,j,L,m,J,z);else if(L._bsontype==="BSONRegExp")m=h(i,j,L,m);else if(L._bsontype==="Int32")m=W(i,j,L,m);else if(L._bsontype==="MinKey"||L._bsontype==="MaxKey")m=y(i,j,L,m);else if(typeof L._bsontype!="undefined")throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}}q.pop(),i[m++]=0;var Nt=m-o;return i[o++]=Nt&255,i[o++]=Nt>>8&255,i[o++]=Nt>>16&255,i[o++]=Nt>>24&255,m}r.serializeInto=b});lt(De);var Pn=De.serializeInto,Z=ut(function(N,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeStream=r.calculateObjectSize=r.deserialize=r.serializeWithBufferAndIndex=r.serialize=r.setInternalBufferSize=r.ObjectID=r.Decimal128=r.BSONRegExp=r.MaxKey=r.MinKey=r.Int32=r.Double=r.Timestamp=r.Long=r.ObjectId=r.Binary=r.DBRef=r.BSONSymbol=r.Map=r.Code=r.LongWithoutOverridesClass=r.EJSON=r.BSON_INT64_MIN=r.BSON_INT64_MAX=r.BSON_INT32_MIN=r.BSON_INT32_MAX=r.BSON_DATA_UNDEFINED=r.BSON_DATA_TIMESTAMP=r.BSON_DATA_SYMBOL=r.BSON_DATA_STRING=r.BSON_DATA_REGEXP=r.BSON_DATA_OID=r.BSON_DATA_OBJECT=r.BSON_DATA_NUMBER=r.BSON_DATA_NULL=r.BSON_DATA_MIN_KEY=r.BSON_DATA_MAX_KEY=r.BSON_DATA_LONG=r.BSON_DATA_INT=r.BSON_DATA_DECIMAL128=r.BSON_DATA_DBPOINTER=r.BSON_DATA_DATE=r.BSON_DATA_CODE_W_SCOPE=r.BSON_DATA_CODE=r.BSON_DATA_BOOLEAN=r.BSON_DATA_BINARY=r.BSON_DATA_ARRAY=r.BSON_BINARY_SUBTYPE_UUID_NEW=r.BSON_BINARY_SUBTYPE_UUID=r.BSON_BINARY_SUBTYPE_USER_DEFINED=r.BSON_BINARY_SUBTYPE_MD5=r.BSON_BINARY_SUBTYPE_FUNCTION=r.BSON_BINARY_SUBTYPE_DEFAULT=r.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(r,"Binary",{enumerable:!0,get:function(){return vt.Binary}}),Object.defineProperty(r,"Code",{enumerable:!0,get:function(){return Ft.Code}}),Object.defineProperty(r,"DBRef",{enumerable:!0,get:function(){return Tt.DBRef}}),Object.defineProperty(r,"Decimal128",{enumerable:!0,get:function(){return qt.Decimal128}}),Object.defineProperty(r,"Double",{enumerable:!0,get:function(){return Wt.Double}}),Object.defineProperty(r,"Int32",{enumerable:!0,get:function(){return Ht.Int32}}),Object.defineProperty(r,"Long",{enumerable:!0,get:function(){return X.Long}}),Object.defineProperty(r,"Map",{enumerable:!0,get:function(){return ye.Map}}),Object.defineProperty(r,"MaxKey",{enumerable:!0,get:function(){return Qt.MaxKey}}),Object.defineProperty(r,"MinKey",{enumerable:!0,get:function(){return $t.MinKey}}),Object.defineProperty(r,"ObjectId",{enumerable:!0,get:function(){return Dt.ObjectId}}),Object.defineProperty(r,"ObjectID",{enumerable:!0,get:function(){return Dt.ObjectId}}),Object.defineProperty(r,"BSONRegExp",{enumerable:!0,get:function(){return Yt.BSONRegExp}}),Object.defineProperty(r,"BSONSymbol",{enumerable:!0,get:function(){return xt.BSONSymbol}}),Object.defineProperty(r,"Timestamp",{enumerable:!0,get:function(){return Ct.Timestamp}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(r,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return w.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(r,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return w.BSON_DATA_ARRAY}}),Object.defineProperty(r,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return w.BSON_DATA_BINARY}}),Object.defineProperty(r,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return w.BSON_DATA_BOOLEAN}}),Object.defineProperty(r,"BSON_DATA_CODE",{enumerable:!0,get:function(){return w.BSON_DATA_CODE}}),Object.defineProperty(r,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return w.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(r,"BSON_DATA_DATE",{enumerable:!0,get:function(){return w.BSON_DATA_DATE}}),Object.defineProperty(r,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return w.BSON_DATA_DBPOINTER}}),Object.defineProperty(r,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return w.BSON_DATA_DECIMAL128}}),Object.defineProperty(r,"BSON_DATA_INT",{enumerable:!0,get:function(){return w.BSON_DATA_INT}}),Object.defineProperty(r,"BSON_DATA_LONG",{enumerable:!0,get:function(){return w.BSON_DATA_LONG}}),Object.defineProperty(r,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return w.BSON_DATA_MAX_KEY}}),Object.defineProperty(r,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return w.BSON_DATA_MIN_KEY}}),Object.defineProperty(r,"BSON_DATA_NULL",{enumerable:!0,get:function(){return w.BSON_DATA_NULL}}),Object.defineProperty(r,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return w.BSON_DATA_NUMBER}}),Object.defineProperty(r,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return w.BSON_DATA_OBJECT}}),Object.defineProperty(r,"BSON_DATA_OID",{enumerable:!0,get:function(){return w.BSON_DATA_OID}}),Object.defineProperty(r,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return w.BSON_DATA_REGEXP}}),Object.defineProperty(r,"BSON_DATA_STRING",{enumerable:!0,get:function(){return w.BSON_DATA_STRING}}),Object.defineProperty(r,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return w.BSON_DATA_SYMBOL}}),Object.defineProperty(r,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return w.BSON_DATA_TIMESTAMP}}),Object.defineProperty(r,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return w.BSON_DATA_UNDEFINED}}),Object.defineProperty(r,"BSON_INT32_MAX",{enumerable:!0,get:function(){return w.BSON_INT32_MAX}}),Object.defineProperty(r,"BSON_INT32_MIN",{enumerable:!0,get:function(){return w.BSON_INT32_MIN}}),Object.defineProperty(r,"BSON_INT64_MAX",{enumerable:!0,get:function(){return w.BSON_INT64_MAX}}),Object.defineProperty(r,"BSON_INT64_MIN",{enumerable:!0,get:function(){return w.BSON_INT64_MIN}});var B=se;Object.defineProperty(r,"EJSON",{enumerable:!0,get:function(){return B.EJSON}});var A=Ct;Object.defineProperty(r,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return A.LongWithoutOverridesClass}});var g=1024*1024*17,s=M.Buffer.alloc(g);function a(n){s.length<n&&(s=M.Buffer.alloc(n))}r.setInternalBufferSize=a;function _(n){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=typeof E.checkKeys=="boolean"?E.checkKeys:!1,d=typeof E.serializeFunctions=="boolean"?E.serializeFunctions:!1,k=typeof E.ignoreUndefined=="boolean"?E.ignoreUndefined:!0,W=typeof E.minInternalBufferSize=="number"?E.minInternalBufferSize:g;s.length<W&&(s=M.Buffer.alloc(W));var G=De.serializeInto(s,n,O,0,0,d,k,[]),F=M.Buffer.alloc(G);return s.copy(F,0,0,F.length),F}r.serialize=_;function f(n,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=typeof O.checkKeys=="boolean"?O.checkKeys:!1,k=typeof O.serializeFunctions=="boolean"?O.serializeFunctions:!1,W=typeof O.ignoreUndefined=="boolean"?O.ignoreUndefined:!0,G=typeof O.index=="number"?O.index:0,F=De.serializeInto(s,n,d,0,0,k,W);return s.copy(E,G,0,F),G+F-1}r.serializeWithBufferAndIndex=f;function u(n){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ie.deserialize(Kt.ensureBuffer(n),E)}r.deserialize=u;function S(n){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E=E||{};var O=typeof E.serializeFunctions=="boolean"?E.serializeFunctions:!1,d=typeof E.ignoreUndefined=="boolean"?E.ignoreUndefined:!0;return We.calculateObjectSize(n,O,d)}r.calculateObjectSize=S;function h(n,E,O,d,k,W){for(var G=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},W),F=Kt.ensureBuffer(n),Y=E,I=0;I<O;I++){var H=F[Y]|F[Y+1]<<8|F[Y+2]<<16|F[Y+3]<<24;G.index=Y,d[k+I]=Ie.deserialize(F,G),Y=Y+H}return Y}r.deserializeStream=h;var y={Binary:vt.Binary,Code:Ft.Code,DBRef:Tt.DBRef,Decimal128:qt.Decimal128,Double:Wt.Double,Int32:Ht.Int32,Long:X.Long,Map:ye.Map,MaxKey:Qt.MaxKey,MinKey:$t.MinKey,ObjectId:Dt.ObjectId,ObjectID:Dt.ObjectId,BSONRegExp:Yt.BSONRegExp,BSONSymbol:xt.BSONSymbol,Timestamp:Ct.Timestamp,EJSON:se.EJSON,setInternalBufferSize:a,serialize:_,serializeWithBufferAndIndex:f,deserialize:u,calculateObjectSize:S,deserializeStream:h};r.default=y}),Br=lt(Z),Fn=Z.deserializeStream,Yn=Z.calculateObjectSize,Cn=Z.deserialize,kn=Z.serializeWithBufferAndIndex,Jn=Z.serialize,zn=Z.setInternalBufferSize,Or=Z.ObjectID,Kn=Z.Decimal128,Wn=Z.BSONRegExp,Hn=Z.MaxKey,Xn=Z.MinKey,Gn=Z.Int32,Vn=Z.Double,Zn=Z.Timestamp,qn=Z.Long,Qn=Z.ObjectId,$n=Z.Binary,xn=Z.DBRef,ti=Z.BSONSymbol,ei=Z.Map,ri=Z.Code,ni=Z.LongWithoutOverridesClass,ii=Z.EJSON,oi=Z.BSON_INT64_MIN,ai=Z.BSON_INT64_MAX,si=Z.BSON_INT32_MIN,fi=Z.BSON_INT32_MAX,ui=Z.BSON_DATA_UNDEFINED,li=Z.BSON_DATA_TIMESTAMP,ci=Z.BSON_DATA_SYMBOL,hi=Z.BSON_DATA_STRING,gi=Z.BSON_DATA_REGEXP,yi=Z.BSON_DATA_OID,Bi=Z.BSON_DATA_OBJECT,Oi=Z.BSON_DATA_NUMBER,Ni=Z.BSON_DATA_NULL,_i=Z.BSON_DATA_MIN_KEY,mi=Z.BSON_DATA_MAX_KEY,pi=Z.BSON_DATA_LONG,Ei=Z.BSON_DATA_INT,Ai=Z.BSON_DATA_DECIMAL128,Si=Z.BSON_DATA_DBPOINTER,vi=Z.BSON_DATA_DATE,di=Z.BSON_DATA_CODE_W_SCOPE,wi=Z.BSON_DATA_CODE,Ti=Z.BSON_DATA_BOOLEAN,bi=Z.BSON_DATA_BINARY,Ii=Z.BSON_DATA_ARRAY,Di=Z.BSON_BINARY_SUBTYPE_UUID_NEW,Ui=Z.BSON_BINARY_SUBTYPE_UUID,Ri=Z.BSON_BINARY_SUBTYPE_USER_DEFINED,Mi=Z.BSON_BINARY_SUBTYPE_MD5,ji=Z.BSON_BINARY_SUBTYPE_FUNCTION,Li=Z.BSON_BINARY_SUBTYPE_DEFAULT,Pi=Z.BSON_BINARY_SUBTYPE_BYTE_ARRAY,Fi=Br}).call(this,et("yLpj"),et("HDXh").Buffer)}}]);
